<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="uW8bwgMGUwIA01nPfItoty1rmtmmuVkOVTeS9O0nAUg">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="登录注册 用户的登陆认证 前端显示登陆页面 登录页组件,后端实现登陆认证,Django默认已经提供了认证系统Auth模块。认证系统包含：用户管理,权限系统,【RBAC权限机制 Role-Base Access Control基于用户角色的访问控制机制】...">
<meta property="og:type" content="article">
<meta property="og:title" content="[荏苒商城注册登录功能]">
<meta property="og:url" content="http://yoursite.com/2020/03/25/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/index.html">
<meta property="og:site_name" content="Roger">
<meta property="og:description" content="登录注册 用户的登陆认证 前端显示登陆页面 登录页组件,后端实现登陆认证,Django默认已经提供了认证系统Auth模块。认证系统包含：用户管理,权限系统,【RBAC权限机制 Role-Base Access Control基于用户角色的访问控制机制】...">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/images/1553572597916.png">
<meta property="og:image" content="http://yoursite.com/images/1578277301522.png">
<meta property="og:image" content="http://yoursite.com/images/1578277415727.png">
<meta property="og:image" content="http://yoursite.com/images/1578277442350.png">
<meta property="og:image" content="http://yoursite.com/images/1578277500168.png">
<meta property="og:image" content="http://yoursite.com/images/1553677987640.png">
<meta property="og:image" content="http://yoursite.com/images/1553678528811.png">
<meta property="article:published_time" content="2020-03-25T15:03:59.000Z">
<meta property="article:modified_time" content="2020-05-23T15:03:56.000Z">
<meta property="article:author" content="Roger xs">
<meta property="article:tag" content="荏苒商城">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/images/1553572597916.png">

<link rel="canonical" href="http://yoursite.com/2020/03/25/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>[荏苒商城注册登录功能] | Roger</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Roger" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Roger</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Re：从零开始的go学习生活(｀・ω・´)</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/rogerXS80" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/25/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://gitee.com/wjxyzs/img/raw/master/img/20160715144434_fZCsF.jpeg">
      <meta itemprop="name" content="Roger xs">
      <meta itemprop="description" content="琴棋书画技术博主(•‾⌣‾•)">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Roger">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [荏苒商城注册登录功能]
        </h1>

        <div class="post-meta">
          <!-- 置顶图标 -->
            <span class="post-meta-item">
              
              
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-25 23:03:59" itemprop="dateCreated datePublished" datetime="2020-03-25T23:03:59+08:00">2020-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-23 23:03:56" itemprop="dateModified" datetime="2020-05-23T23:03:56+08:00">2020-05-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">开源项目</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
            <div class="post-description">登录注册 用户的登陆认证 前端显示登陆页面 登录页组件,后端实现登陆认证,Django默认已经提供了认证系统Auth模块。认证系统包含：用户管理,权限系统,【RBAC权限机制 Role-Base Access Control基于用户角色的访问控制机制】...</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="2-登录注册"><a href="#2-登录注册" class="headerlink" title="2-登录注册"></a>2-登录注册</h1><h1 id="用户的登陆认证"><a href="#用户的登陆认证" class="headerlink" title="用户的登陆认证"></a>用户的登陆认证</h1><h2 id="前端显示登陆页面"><a href="#前端显示登陆页面" class="headerlink" title="前端显示登陆页面"></a>前端显示登陆页面</h2><h3 id="登录页组件"><a href="#登录页组件" class="headerlink" title="登录页组件"></a>登录页组件</h3><p>components/Login.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">href</span>=<span class="string">"/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-in-container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"new_session"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle js-normal"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"手机号或邮箱"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"session[email_or_mobile_number]"</span> <span class="attr">id</span>=<span class="string">"session_email_or_mobile_number"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 海外登录登录名输入框 --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"session_password"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"remember-btn"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"true"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> <span class="attr">name</span>=<span class="string">"remember_me"</span> <span class="attr">id</span>=<span class="string">"session_remember_me"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>记住我<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"forget-btn"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">data-toggle</span>=<span class="string">"dropdown"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>登录遇到问题?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"sign-in-button"</span> <span class="attr">id</span>=<span class="string">"sign-in-form-submit-btn"</span> <span class="attr">type</span>=<span class="string">"button"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"sign-in-loading"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      登录</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 更多登录方式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号登录<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"weibo-link-wrap"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"weibo"</span> <span class="attr">id</span>=<span class="string">"weibo-link"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-weibo"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Login"</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">input&#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css">*, <span class="selector-pseudo">:after</span>, <span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">    height: 100%;</span><br><span class="line">    min-height: 750px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    display: inline-block;</span><br><span class="line">    height: 85%;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable</span>,<span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">opacity</span>: <span class="selector-class">.5</span>;</span></span><br><span class="line">    pointer-events: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 25px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    background: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> &#123;</span></span><br><span class="line">    max-width: 280px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    white-space: normal;</span><br><span class="line">    max-width: 230px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-border</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-bg</span> &#123;</span></span><br><span class="line">    left: 2px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    padding: 10px 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static!important;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    font-size: 13px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-forbidden</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    padding: 80px 0 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-container</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 56px;</span><br><span class="line">    margin-left: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">    width: 400px;</span><br><span class="line">    margin: 60px auto 0;</span><br><span class="line">    padding: 50px 50px 30px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 0 8<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">    margin: 0 auto 50px;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-class">.active</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-class">.active</span> &#123;</span></span><br><span class="line">    font-weight: 700;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">b</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">b</span> &#123;</span></span><br><span class="line">    padding: 10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    font-weight: 700</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">    margin-bottom: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 50px;</span><br><span class="line">    margin-bottom: 0;</span><br><span class="line">    padding: 4px 12px 4px 35px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 14px;</span><br><span class="line">    left: 10px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-class">.ic-show</span> &#123;</span></span><br><span class="line">    top: 18px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 8px;</span><br><span class="line">    font-size: 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.geetest-placeholder</span> &#123;</span></span><br><span class="line">    height: 44px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 44px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> &#123;</span></span><br><span class="line">    margin-bottom: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 4px 4px 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.no-radius</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> &#123;</span></span><br><span class="line">    height: 32px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    padding-top: 7px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    margin-right: -7px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#2f2f2f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    margin: 15px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    font-size: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> &#123;</span></span><br><span class="line">    float: right;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 15px 0;</span><br><span class="line">    font-size: 14px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    top: 20px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 0;</span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin-top: -4px;</span><br><span class="line">    margin-right: 2px;</span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: transparent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span> &#123;</span></span><br><span class="line">    margin-top: 20px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 9px 18px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: 25px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    cursor: pointer;</span><br><span class="line">    outline: none;</span><br><span class="line">    display: block;</span><br><span class="line">    clear: both</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3db922</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#187cb7</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span>,<span class="selector-class">.sign</span> <span class="selector-class">.btn-up-resend</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 7px;</span><br><span class="line">    right: 7px;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 36px;</span><br><span class="line">    font-size: 13px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    border-radius: 20px;</span><br><span class="line">    line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> &#123;</span></span><br><span class="line">    margin: 10px 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    line-height: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    padding-left: 110px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-top: 17px;</span><br><span class="line">    padding-left: 35px;</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    max-height: 285px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line">    overflow-y: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-class">.nation-code</span> &#123;</span></span><br><span class="line">    width: 65px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 6px 20px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 20px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">::hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f5f5f5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> &#123;</span></span><br><span class="line">    margin-top: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 0 0 10px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#b5b5b5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    left: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line"><span class="css">    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#b5b5b5</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 60px;</span><br><span class="line">    top: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    right: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">    list-style: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">    margin: 0 5px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    line-height: 50px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    font-size: 28px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-weibo</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#e05244</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-wechat</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00bb29</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-qq_connect</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#498ad5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-douban</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00820f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-more</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span> &#123;</span></span><br><span class="line">    pointer-events: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">body</span><span class="selector-class">.reader-night-mode</span> <span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3f3f3f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e05244</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg);</span><br><span class="line">        transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn);</span><br><span class="line">        transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-password-input</span> &#123;</span></span><br><span class="line">    border-radius: 4px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> &#123;</span></span><br><span class="line">    margin-left: -8px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    margin-right: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span> &#123;</span></span><br><span class="line">    display: inline-block;</span><br><span class="line">    *display: inline;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    width: 18px;</span><br><span class="line">    height: 18px;</span><br><span class="line">    background: url(/static/image/green.png) no-repeat;</span><br><span class="line">    border: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    background-position: 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.hover</span> &#123;</span></span><br><span class="line">    background-position: -20px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span> &#123;</span></span><br><span class="line">    background-position: -40px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -60px 0;</span><br><span class="line">    cursor: default</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -80px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.geetest_panel_box</span>&gt;* &#123;</span></span><br><span class="line">    box-sizing: content-box</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">768px</span>) &#123;</span></span><br><span class="line">    body &#123;</span><br><span class="line">        min-width: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">        height: auto;</span><br><span class="line">        min-height: 0;</span><br><span class="line">        background-color: transparent</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 50%;</span><br><span class="line">        margin: 0 0 0 -200px;</span><br><span class="line">        box-shadow: none</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>把素材中的iconfont.css和iconfont.eof字体文件,放到项目中引入进来,因为在别的页面也会使用到图标,所以我们直接的入口文件index.html或者main.js中全局引入.</p>
<p>main.js,代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 全局导入字体图标</span><br><span class="line"><span class="keyword">import</span> <span class="string">"../static/css/iconfont.css"</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">"../static/css/iconfont.eot"</span>;</span><br></pre></td></tr></table></figure>

<h3 id="绑定登陆页面路由地址"><a href="#绑定登陆页面路由地址" class="headerlink" title="绑定登陆页面路由地址"></a>绑定登陆页面路由地址</h3><p>router/index.js</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">"vue"</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">"vue-router"</span></span><br><span class="line"></span><br><span class="line">// 导入需要注册路由的组件</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">"../components/Home"</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">"../components/Login"</span></span><br><span class="line">Vue.use(Router);</span><br><span class="line"></span><br><span class="line">// 配置路由列表</span><br><span class="line">export default new Router(&#123;</span><br><span class="line">  mode:<span class="string">"history"</span>,</span><br><span class="line">  routes:[</span><br><span class="line">    // 路由列表</span><br><span class="line">		...</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"Login"</span>,</span><br><span class="line">      path: <span class="string">"/login"</span>,</span><br><span class="line">      component:Login,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="调整首页头部子组件中登陆按钮的链接信息"><a href="#调整首页头部子组件中登陆按钮的链接信息" class="headerlink" title="调整首页头部子组件中登陆按钮的链接信息"></a>调整首页头部子组件中登陆按钮的链接信息</h3><p>Header.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">"btn log-in"</span> <span class="attr">id</span>=<span class="string">"sign_in"</span> <span class="attr">to</span>=<span class="string">"/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Login.vue</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="后端实现登陆认证"><a href="#后端实现登陆认证" class="headerlink" title="后端实现登陆认证"></a>后端实现登陆认证</h2><p>Django默认已经提供了认证系统Auth模块。认证系统包含：</p>
<ul>
<li>用户管理</li>
<li>权限系统【RBAC权限机制 Role-Base Access Control基于用户角色的访问控制机制】</li>
<li>用户组管理</li>
<li>密码哈希系统[密码加密和验证加密，无法解密]</li>
<li>用户登录或内容显示的表单和视图</li>
<li>一个可插拔的后台系统【admin后台运营站点，实际开发中大部分人使用的是xadmin后台运营站点】</li>
</ul>
<p>Django默认用户的认证机制依赖Session机制，我们在项目中将引入JWT认证机制，将用户的身份凭据存放在Token字符串中，然后对接Django的认证系统，帮助我们来实现：</p>
<ul>
<li>用户的数据模型</li>
<li>用户密码的加密与验证</li>
<li>用户的权限系统</li>
</ul>
<h3 id="Django用户模型类"><a href="#Django用户模型类" class="headerlink" title="Django用户模型类"></a>Django用户模型类</h3><p>django内置的用户模型文件： django/contrib/auth/model.py</p>
<p>Django认证系统中提供了用户模型类User保存用户的数据，默认的User包含以下常见的基本字段：</p>
<p><a href="https://www.notion.so/da82efa5e7a443ac8cb8d87017a9c026" target="_blank" rel="noopener">Untitled</a></p>
<h3 id="常用方法："><a href="#常用方法：" class="headerlink" title="常用方法："></a>常用方法：</h3><ul>
<li><p><code>set_password</code>(<em>raw_password</em>)</p>
<p>设置用户的密码为给定的原始字符串，并负责密码的。 不会保存<code>User</code> 对象。当<code>None</code>为<code>raw_password</code> 时，密码将设置为一个不可用的密码。</p>
</li>
<li><p><code>check_password</code>(<em>raw_password</em>)</p>
<p>如果给定的raw_password是用户的真实密码，则返回True，可以在校验用户密码时使用。</p>
</li>
</ul>
<h3 id="管理器方法："><a href="#管理器方法：" class="headerlink" title="管理器方法："></a>管理器方法：</h3><p>管理器方法即可以通过<code>User.objects.</code> 进行调用的方法。</p>
<ul>
<li><p><code>create_user</code>(<em>username</em>, <em>email=None</em>, <em>password=None</em>, <em>**extra_fields</em>)</p>
<p>创建、保存并返回一个<code>User</code>对象。</p>
</li>
<li><p><code>create_superuser</code>(<em>username</em>, <em>email</em>, <em>password</em>, <em>**extra_fields</em>)</p>
<p>与<code>create_user()</code> 相同，但是设置<code>is_staff</code> 和<code>is_superuser</code> 为<code>True</code>。</p>
</li>
</ul>
<h3 id="创建用户模块的子应用"><a href="#创建用户模块的子应用" class="headerlink" title="创建用户模块的子应用"></a>创建用户模块的子应用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> renranapi/apps</span><br><span class="line">python ../../manage.py startapp users</span><br></pre></td></tr></table></figure>

<p>在settings/dev.py中注册users子应用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">		...</span><br><span class="line">  	<span class="string">'users'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>解决因为我们调整子应用保存目录以后导致django无法识别子应用的BUG</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解决方案：通过把apps设置为导包路径即可解决。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># Build paths inside the project like this: os.path.join(BASE_DIR, ...)</span></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把网站子应用所在目录设置为了导报路径</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.path.insert(<span class="number">0</span>,os.path.join(BASE_DIR, <span class="string">"apps"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Quick-start development settings - unsuitable for production</span></span><br><span class="line"><span class="comment"># See https://docs.djangoproject.com/en/2.2/howto/deployment/checklist/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: keep the secret key used in production secret!</span></span><br><span class="line">SECRET_KEY = <span class="string">'%=l9-5s0i26qd9687f75&amp;wd60_f-9%*s9df4$l@x(34qey)n3b'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: don't run with debug turned on in production!</span></span><br><span class="line">DEBUG = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">ALLOWED_HOSTS = [</span><br><span class="line">    <span class="string">"api.renran.cn"</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># CORS的白名单[只有在白名单里面的客户端地址才可以通过ajax访问服务端]</span></span><br><span class="line">CORS_ORIGIN_WHITELIST = (</span><br><span class="line">    <span class="string">'http://www.moluo.net:8080'</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许ajax跨域请求时携带cookie</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">False</span> <span class="comment"># 表示禁止</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Application definition</span></span><br><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">'corsheaders'</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">'users'</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ...后面省略</span></span><br></pre></td></tr></table></figure>

<h3 id="创建自定义的用户模型类"><a href="#创建自定义的用户模型类" class="headerlink" title="创建自定义的用户模型类"></a>创建自定义的用户模型类</h3><p>Django认证系统中提供的用户模型类及方法很方便，我们可以使用这个模型类，但是字段有些无法满足项目需求，如本项目中需要保存用户的手机号，需要给模型类添加额外的字段。</p>
<p>Django提供了<code>django.contrib.auth.models.AbstractUser</code>用户抽象模型类允许我们继承，扩展字段来使用Django认证系统的用户模型类。</p>
<p><strong>我们可以在apps中创建Django应用users，并在配置文件中注册users应用。</strong></p>
<p>在创建好的应用models.py中定义用户的用户模型类。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> AbstractUser</span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(AbstractUser)</span>:</span></span><br><span class="line">    <span class="string">"""用户模型类"""</span></span><br><span class="line">    mobile = models.CharField(max_length=<span class="number">15</span>, null=<span class="literal">True</span>, unique=<span class="literal">True</span>, help_text=<span class="string">"手机号码"</span>,verbose_name=<span class="string">"手机号码"</span>)</span><br><span class="line">    wxchat = models.CharField(max_length=<span class="number">100</span>, null=<span class="literal">True</span>, unique=<span class="literal">True</span>, help_text=<span class="string">"微信账号"</span>,verbose_name=<span class="string">"微信账号"</span>)</span><br><span class="line">    alipay = models.CharField(max_length=<span class="number">100</span>, null=<span class="literal">True</span>, unique=<span class="literal">True</span>, help_text=<span class="string">"支付宝账号"</span>,verbose_name=<span class="string">"支付宝账号"</span>)</span><br><span class="line">    qq_number = models.CharField(max_length=<span class="number">11</span>, null=<span class="literal">True</span>, unique=<span class="literal">True</span>, help_text=<span class="string">"QQ号"</span>,verbose_name=<span class="string">"QQ号"</span>)</span><br><span class="line">    <span class="comment"># 保存文件的子目录</span></span><br><span class="line">    avatar = models.ImageField(upload_to=<span class="string">"avatar"</span>, null=<span class="literal">True</span>, default=<span class="literal">None</span>, verbose_name=<span class="string">"头像"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        db_table = <span class="string">"rr_users"</span></span><br><span class="line">        verbose_name = <span class="string">"用户信息"</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.username</span><br></pre></td></tr></table></figure>

<p>我们自定义的用户模型类还不能直接被Django的认证系统所识别，需要在配置文件中告知Django认证系统使用我们自定义的模型类。</p>
<p>在配置文件settings/dev.py，中进行设置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AUTH_USER_MODEL = <span class="string">'users.User'</span></span><br></pre></td></tr></table></figure>

<p><code>AUTH_USER_MODEL</code> 参数的设置以<code>点.</code>来分隔，表示<code>应用名.模型类名</code>。</p>
<p><strong>注意：Django强烈建议我们对于AUTH_USER_MODEL参数的设置一定要在第一次数据库迁移之前就设置好，否则后续使用可能出现未知错误。</strong></p>
<p>执行数据库迁移</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>

<h3 id="Django-REST-framework-JWT"><a href="#Django-REST-framework-JWT" class="headerlink" title="Django REST framework JWT"></a>Django REST framework JWT</h3><blockquote>
<p>Json web token (JWT), 是为了在网络应用环境间传递声明而执行的一种基于JSON的开放标准（(RFC 7519).该token被设计为紧凑且安全的，特别适用于分布式站点的单点登录（SSO）场景。JWT的声明一般被用来在身份提供者和服务提供者间传递被认证的用户身份信息，以便于从资源服务器获取资源，也可以增加一些额外的其它业务逻辑所必须的声明信息，该token也可直接被用于认证，也可被加密。</p>
</blockquote>
<p>在用户注册或登录后，我们想记录用户的登录状态，或者为用户创建身份认证的凭证。我们不再使用Session认证机制，而使用Json Web Token认证机制。</p>
<h3 id="JWT的构成"><a href="#JWT的构成" class="headerlink" title="JWT的构成"></a>JWT的构成</h3><p>JWT就一段字符串，由三段信息构成的，将这三段信息文本用<code>.</code>链接一起就构成了Jwt字符串。就像这样:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ</span><br></pre></td></tr></table></figure>

<p>第一部分我们称它为头部（header),第二部分我们称其为载荷（payload, 类似于飞机上承载的物品)，第三部分是签证（signature).</p>
<h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3><p>jwt的头部承载两部分信息：</p>
<ul>
<li>声明类型，这里是jwt</li>
<li>声明加密的算法 通常直接使用 HMAC SHA256</li>
</ul>
<p>完整的头部就像下面这样的JSON：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  'typ': 'JWT',</span><br><span class="line">  'alg': 'HS256'</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后将头部进行base64加密（该加密是可以对称解密的),构成了第一部分.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python代码：</span></span><br><span class="line">headers = <span class="string">'&#123;"tpy":"JWT","alg":"HS256"&#125;'</span></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line">header_str = base64.b64encode(headers.encode()).decode()</span><br><span class="line">print(header_str)</span><br><span class="line"><span class="comment"># 打印效果：</span></span><br><span class="line"><span class="comment"># eyJ0cHkiOiJKV1QiLCJhbGciOiJIUzI1NiJ9</span></span><br></pre></td></tr></table></figure>

<h3 id="payload"><a href="#payload" class="headerlink" title="payload"></a>payload</h3><p>载荷就是存放有效信息的地方。这个名字像是特指飞机上承载的货品，这些有效信息包含三个部分</p>
<ul>
<li>标准声明</li>
<li>公共声明</li>
<li>私有声明</li>
</ul>
<p><strong>标准中注册的声明</strong> (建议但不强制使用) ：</p>
<ul>
<li><strong>iss</strong>: jwt签发者</li>
<li><strong>sub</strong>: jwt所面向的用户</li>
<li><strong>aud</strong>: 接收jwt的一方</li>
<li><strong>exp</strong>: jwt的过期时间，这个过期时间必须要大于签发时间</li>
<li><strong>nbf</strong>: 定义在什么时间之前，该jwt都是不可用的.</li>
<li><strong>iat</strong>: jwt的签发时间</li>
<li><strong>jti</strong>: jwt的唯一身份标识，主要用来作为一次性token,从而回避重放攻击。</li>
</ul>
<p><strong>公共的声明</strong> ： 公共的声明可以添加任何的信息，一般添加用户的相关信息或其他业务需要的必要信息.但不建议添加敏感信息，因为该部分在客户端可解密.</p>
<p><strong>私有的声明</strong> ： 私有声明是提供者和消费者所共同定义的声明，一般不建议存放敏感信息，因为base64是对称解密的，意味着该部分信息可以归类为明文信息。</p>
<p>定义一个payload:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"sub"</span>: <span class="string">"1234567890"</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"John Doe"</span>,</span><br><span class="line">  <span class="attr">"admin"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"auth"</span>: <span class="string">"2dsg343sdaq223256ddd5454"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后将其进行base64加密，得到JWT的第二部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9</span><br></pre></td></tr></table></figure>

<h3 id="signature"><a href="#signature" class="headerlink" title="signature"></a>signature</h3><p>JWT的第三部分是一个签证信息，这个签证信息的主要作用并非防止解密，而是为了防止别人恶意串改，由三部分组成：</p>
<ul>
<li>header (base64后的)</li>
<li>payload (base64后的)</li>
<li>secret密钥</li>
</ul>
<p>这个部分需要base64加密后的header和base64加密后的payload使用<code>.</code>连接组成的字符串，然后通过header中声明的加密方式进行加盐<code>secret</code>组合加密，然后就构成了jwt的第三部分。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// javascript如果要模拟生成你的jwttoken，可能可以采用以下代码生成[注意：伪代码]</span></span><br><span class="line"><span class="keyword">var</span> encodedString = base64UrlEncode(header) + <span class="string">'.'</span> + base64UrlEncode(payload);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> signature = HMACSHA256(encodedString, <span class="string">'secret'</span>); <span class="comment">// TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ</span></span><br></pre></td></tr></table></figure>

<p>将这三部分用<code>.</code>连接成一个完整的字符串,构成了最终的jwt:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ</span><br></pre></td></tr></table></figure>

<p><strong>注意：secret是保存在服务器端的，jwt的签发生成也是在服务器端的，secret就是用来进行jwt的签发和jwt的验证，所以，它就是你服务端的私钥，在任何场景都不应该流露出去。一旦客户端得知这个secret, 那就意味着客户端是可以自我签发jwt了。</strong></p>
<p><strong>关于签发和核验JWT，我们可以使用Django REST framework JWT扩展来完成。</strong></p>
<p>文档网站<a href="http://getblimp.github.io/django-rest-framework-jwt/" target="_blank" rel="noopener">http://getblimp.github.io/django-rest-framework-jwt/</a></p>
<h3 id="安装配置JWT"><a href="#安装配置JWT" class="headerlink" title="安装配置JWT"></a>安装配置JWT</h3><p>安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework-jwt</span><br></pre></td></tr></table></figure>

<p>settings/dev.py配置文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">REST_FRAMEWORK = &#123;</span><br><span class="line">    <span class="string">'DEFAULT_AUTHENTICATION_CLASSES'</span>: (</span><br><span class="line">        <span class="string">'rest_framework_jwt.authentication.JSONWebTokenAuthentication'</span>,</span><br><span class="line">        <span class="string">'rest_framework.authentication.SessionAuthentication'</span>,</span><br><span class="line">        <span class="string">'rest_framework.authentication.BasicAuthentication'</span>,</span><br><span class="line">    ),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">JWT_AUTH = &#123;</span><br><span class="line">    <span class="string">'JWT_EXPIRATION_DELTA'</span>: datetime.timedelta(days=<span class="number">1</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>JWT_EXPIRATION_DELTA 指明token的有效期</li>
</ul>
<h3 id="手动生成jwt"><a href="#手动生成jwt" class="headerlink" title="手动生成jwt"></a>手动生成jwt</h3><p>Django REST framework JWT 扩展的说明文档中提供了手动签发JWT的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from rest_framework_jwt.settings import api_settings</span><br><span class="line"></span><br><span class="line">jwt_payload_handler &#x3D; api_settings.JWT_PAYLOAD_HANDLER</span><br><span class="line">jwt_encode_handler &#x3D; api_settings.JWT_ENCODE_HANDLER</span><br><span class="line"></span><br><span class="line">payload &#x3D; jwt_payload_handler(user)</span><br><span class="line">token &#x3D; jwt_encode_handler(payload)</span><br></pre></td></tr></table></figure>

<p>在用户注册或登录成功后，在序列化器中返回用户信息以后同时返回token即可。</p>
<h3 id="后端实现登陆认证接口"><a href="#后端实现登陆认证接口" class="headerlink" title="后端实现登陆认证接口"></a>后端实现登陆认证接口</h3><p>Django REST framework JWT提供了登录获取token的视图，可以直接使用</p>
<p>在子应用users路由urls.py中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from rest_framework_jwt.views import obtain_jwt_token</span><br><span class="line"></span><br><span class="line">urlpatterns &#x3D; [</span><br><span class="line">    path(&#39;login&#x2F;&#39;, obtain_jwt_token),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在主路由中，引入当前子应用的路由文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns &#x3D; [</span><br><span class="line">		...</span><br><span class="line">    path(&#39;users&#x2F;&#39;, include(&quot;users.urls&quot;)),</span><br><span class="line">    # include 的值必须是 模块名.urls 格式,字符串中间只能出现一个圆点</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>接下来，我们可以通过postman来测试下功能</p>
<p>注意，测试之前因为我们上面自定义用户模型，所以删除了数据库信息，所以需要我们再次补充。</p>
<p><img src="/images/1553572597916.png" alt="1553572597916.png"></p>
<h2 id="前端实现登陆功能"><a href="#前端实现登陆功能" class="headerlink" title="前端实现登陆功能"></a>前端实现登陆功能</h2><p>在登陆组件中找到登陆按钮，绑定点击事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"login_btn"</span> @<span class="attr">click</span>=<span class="string">"loginhander"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在methods中请求后端</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-in-container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"new_session"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle js-normal"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"登录账号或手机号或邮箱"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"session_email_or_mobile_number"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 海外登录登录名输入框 --&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">v-model</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"session_password"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"remember-btn"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"true"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> <span class="attr">v-model</span>=<span class="string">"remember_me"</span> <span class="attr">id</span>=<span class="string">"session_remember_me"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>记住我<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"forget-btn"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>登录遇到问题?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"sign-in-button"</span> <span class="attr">id</span>=<span class="string">"sign-in-form-submit-btn"</span> <span class="attr">type</span>=<span class="string">"button"</span> @<span class="attr">click.prevent</span>=<span class="string">"loginhander"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"sign-in-loading"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>登录</span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 更多登录方式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号登录<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"weibo-link-wrap"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"weibo"</span> <span class="attr">id</span>=<span class="string">"weibo-link"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-weibo"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Login"</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">             username:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">             password:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">             remember_me: <span class="literal">false</span>,</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// 登录</span></span></span><br><span class="line">          loginhander()&#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.$axios.post(<span class="keyword">this</span>.$settings.Host+<span class="string">"/users/login/"</span>,</span></span><br><span class="line">              &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"username"</span>:<span class="keyword">this</span>.username,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"password"</span>:<span class="keyword">this</span>.password</span></span><br><span class="line"><span class="javascript">              &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(response.data)</span></span><br><span class="line"><span class="javascript">              &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(error);</span></span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-7-前端保存jwt"><a href="#2-3-7-前端保存jwt" class="headerlink" title="2.3.7 前端保存jwt"></a>2.3.7 前端保存jwt</h3><p>我们可以将JWT保存在cookie中，也可以保存在浏览器的本地存储里，我们保存在浏览器本地存储中</p>
<p>浏览器的本地存储提供了sessionStorage 和 localStorage 两种：</p>
<ul>
<li><strong>sessionStorage</strong> 浏览器关闭即失效</li>
<li><strong>localStorage</strong> 长期有效</li>
</ul>
<p>使用方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.变量名 = 变量值   // 保存数据</span><br><span class="line">sessionStorage.变量名  // 读取数据</span><br><span class="line">sessionStorage.clear()  // 清除所有sessionStorage保存的数据</span><br><span class="line"></span><br><span class="line">localStorage.变量名 = 变量值   // 保存数据</span><br><span class="line">localStorage.变量名  // 读取数据</span><br><span class="line">localStorage.clear()  // 清除所有localStorage保存的数据</span><br></pre></td></tr></table></figure>

<p>登陆组件代码Login.vue</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">          <span class="comment">// 登录</span></span><br><span class="line">          loginhander()&#123;</span><br><span class="line">            <span class="keyword">this</span>.$axios.post(<span class="keyword">this</span>.$settings.Host+<span class="string">"/users/login/"</span>,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="string">"username"</span>:<span class="keyword">this</span>.username,</span><br><span class="line">                <span class="string">"password"</span>:<span class="keyword">this</span>.password</span><br><span class="line">              &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">                  <span class="comment">// 使用浏览器本地存储保存token</span></span><br><span class="line">                  <span class="keyword">if</span> (<span class="keyword">this</span>.remember_me) &#123;</span><br><span class="line">                    <span class="comment">// 记住登录</span></span><br><span class="line">                    sessionStorage.clear();</span><br><span class="line">                    localStorage.user_token = response.data.token;</span><br><span class="line">                  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 未记住登录</span></span><br><span class="line">                    localStorage.clear();</span><br><span class="line">                    sessionStorage.user_token = response.data.token;</span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line">                  <span class="keyword">this</span>.$confirm(<span class="string">'登录成功, 欢迎回来！'</span>, <span class="string">'提示'</span>, &#123;</span><br><span class="line">                    confirmButtonText: <span class="string">'返回首页'</span>,</span><br><span class="line">                    cancelButtonText: <span class="string">'返回上一页'</span>,</span><br><span class="line">                    type: <span class="string">'success'</span></span><br><span class="line">                  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$router.push(<span class="string">"/"</span>);</span><br><span class="line">                  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span><br><span class="line">                  &#125;);</span><br><span class="line"></span><br><span class="line">              &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(error);</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>

<p>默认的返回值仅有token，我们还需在返回值中增加username和id，方便在客户端页面中显示当前登陆用户</p>
<p>通过修改该视图的返回值可以完成我们的需求。</p>
<p>在users/utils.py 中，创建</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def jwt_response_payload_handler(token, user=None, request=None):</span><br><span class="line">    <span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">    自定义jwt认证成功返回数据</span></span><br><span class="line"><span class="string">    "</span><span class="string">""</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'token'</span>: token,</span><br><span class="line">        <span class="string">'id'</span>: user.id,</span><br><span class="line">        <span class="string">'username'</span>: user.username,</span><br><span class="line">        <span class="string">'avatar'</span>: user.avatar.url,</span><br><span class="line">        <span class="string">'nickname'</span>: user.nickname,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>修改settings/dev.py配置文件</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># JWT</span><br><span class="line">JWT_AUTH = &#123;</span><br><span class="line">    <span class="string">'JWT_EXPIRATION_DELTA'</span>: datetime.timedelta(days=<span class="number">1</span>),</span><br><span class="line">    <span class="string">'JWT_RESPONSE_PAYLOAD_HANDLER'</span>: <span class="string">'users.utils.jwt_response_payload_handler'</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>登陆组件代码Login.vue</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">          <span class="comment">// 登录</span></span><br><span class="line">          loginhander()&#123;</span><br><span class="line">            <span class="keyword">this</span>.$axios.post(<span class="keyword">this</span>.$settings.Host+<span class="string">"/users/login/"</span>,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="string">"username"</span>:<span class="keyword">this</span>.username,</span><br><span class="line">                <span class="string">"password"</span>:<span class="keyword">this</span>.password</span><br><span class="line">              &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">                  <span class="comment">// 使用浏览器本地存储保存token</span></span><br><span class="line">                  <span class="keyword">if</span> (<span class="keyword">this</span>.remember_me) &#123;</span><br><span class="line">                    <span class="comment">// 记住登录</span></span><br><span class="line">                    sessionStorage.removeItem(<span class="string">"user_token"</span>);</span><br><span class="line">                    sessionStorage.removeItem(<span class="string">"user_id"</span>);</span><br><span class="line">                    sessionStorage.removeItem(<span class="string">"user_name"</span>);</span><br><span class="line">                    sessionStorage.removeItem(<span class="string">"user_avatar"</span>);</span><br><span class="line">                    sessionStorage.removeItem(<span class="string">"user_nickname"</span>);</span><br><span class="line">                    localStorage.user_token = response.data.token;</span><br><span class="line">                    localStorage.user_id = response.data.id;</span><br><span class="line">                    localStorage.user_name = response.data.username;</span><br><span class="line">                    localStorage.user_avatar = response.data.avatar;</span><br><span class="line">                    localStorage.user_nickname = response.data.nickname;</span><br><span class="line">                  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// 未记住登录</span></span><br><span class="line">                    localStorage.removeItem(<span class="string">"user_token"</span>);</span><br><span class="line">                    localStorage.removeItem(<span class="string">"user_id"</span>);</span><br><span class="line">                    localStorage.removeItem(<span class="string">"user_name"</span>);</span><br><span class="line">                    localStorage.removeItem(<span class="string">"user_avatar"</span>);</span><br><span class="line">                    localStorage.removeItem(<span class="string">"user_nickname"</span>);</span><br><span class="line">                    sessionStorage.user_token = response.data.token;</span><br><span class="line">                    sessionStorage.user_id = response.data.id;</span><br><span class="line">                    sessionStorage.user_name = response.data.username;</span><br><span class="line">                    sessionStorage.user_avatar = response.data.avatar;</span><br><span class="line">                    sessionStorage.user_nickname = response.data.nickname;</span><br><span class="line">                  &#125;</span><br><span class="line">                  <span class="keyword">this</span>.$confirm(<span class="string">'登录成功, 欢迎回来！'</span>, <span class="string">'提示'</span>, &#123;</span><br><span class="line">                    confirmButtonText: <span class="string">'返回首页'</span>,</span><br><span class="line">                    cancelButtonText: <span class="string">'返回上一页'</span>,</span><br><span class="line">                    type: <span class="string">'success'</span></span><br><span class="line">                  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$router.push(<span class="string">"/"</span>);</span><br><span class="line">                  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span><br><span class="line">                  &#125;);</span><br><span class="line"></span><br><span class="line">              &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">                  <span class="keyword">this</span>.$message.error(<span class="string">"登录失败！账号或密码错误！"</span>);</span><br><span class="line">                  <span class="keyword">this</span>.username = <span class="string">""</span>;</span><br><span class="line">                  <span class="keyword">this</span>.password = <span class="string">""</span>;</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="2-3-9-多条件登录"><a href="#2-3-9-多条件登录" class="headerlink" title="2.3.9 多条件登录"></a>2.3.9 多条件登录</h3><p>JWT扩展的登录视图，在收到用户名与密码时，也是调用Django的认证系统中提供的<strong>authenticate()</strong>来检查用户名与密码是否正确。</p>
<p>我们可以通过修改Django认证系统的认证后端（主要是authenticate方法）来支持登录账号既可以是用户名也可以是手机号。</p>
<p><strong>修改Django认证系统的认证后端需要继承django.contrib.auth.backends.ModelBackend，并重写authenticate方法。</strong></p>
<p><code>authenticate(self, request, username=None, password=None, **kwargs)</code>方法的参数说明：</p>
<ul>
<li>request 本次认证的请求对象</li>
<li>username 本次认证提供的用户账号</li>
<li>password 本次认证提供的密码</li>
</ul>
<p><strong>我们想要让用户既可以以用户名登录，也可以以手机号登录，那么对于authenticate方法而言，username参数即表示用户名或者手机号。</strong></p>
<p>重写authenticate方法的思路：</p>
<ol>
<li>根据username参数查找用户User对象，username参数可能是用户名，也可能是手机号</li>
<li>若查找到User对象，调用User对象的 check_password 方法检查密码是否正确</li>
</ol>
<p>在users/utils.py中编写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.backends <span class="keyword">import</span> ModelBackend</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Q</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_user_by_account</span><span class="params">(account)</span>:</span></span><br><span class="line">    <span class="string">"""根据账号信息获取用户模型"""</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        user = User.objects.get(Q(mobile=account) | Q(email=account)| Q(username=account))</span><br><span class="line">    <span class="keyword">except</span> User.DoesNotExist:</span><br><span class="line">        user = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> user</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UsernameMobileAuthBackend</span><span class="params">(ModelBackend)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">authenticate</span><span class="params">(self, request, username=None, password=None, **kwargs)</span>:</span></span><br><span class="line">        <span class="comment"># 进行登录判断</span></span><br><span class="line">        user = get_user_by_account(username)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 账号通过了还要进行密码的验证,以及判断当前站好是否是激活状态</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(user,User) <span class="keyword">and</span> user.check_password(password) <span class="keyword">and</span> self.user_can_authenticate(user):</span><br><span class="line">            <span class="keyword">return</span> user</span><br></pre></td></tr></table></figure>

<p>在配置文件settings/dev.py中告知Django使用我们自定义的认证后端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AUTHENTICATION_BACKENDS = [</span><br><span class="line">    <span class="string">'users.utils.UsernameMobileAuthBackend'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h2 id="在登录认证中接入腾讯防水墙验证码"><a href="#在登录认证中接入腾讯防水墙验证码" class="headerlink" title="在登录认证中接入腾讯防水墙验证码"></a>在登录认证中接入腾讯防水墙验证码</h2><p>官网： <a href="https://007.qq.com/" target="_blank" rel="noopener">https://007.qq.com</a></p>
<p>使用微信扫码登录腾讯云控制台，然后根据官方文档，把验证码集成到项目中</p>
<p>快速接入：<a href="https://007.qq.com/python-access.html?ADTAG=acces.start" target="_blank" rel="noopener">https://007.qq.com/python-access.html?ADTAG=acces.start</a></p>
<ol>
<li><p>访问地址: <a href="https://cloud.tencent.com/document/product/1110/36839" target="_blank" rel="noopener">https://cloud.tencent.com/document/product/1110/36839</a></p>
</li>
<li><p>访问云API秘钥</p>
</li>
<li><p>访问验证码控制台: <a href="https://console.cloud.tencent.com/captcha" target="_blank" rel="noopener">https://console.cloud.tencent.com/captcha</a></p>
</li>
<li><p>新建验证[ 新用户可以领取一个免费的验证码套餐 ]</p>
<p><img src="/images/1578277301522.png" alt="1578277301522.png"></p>
</li>
</ol>
<p><img src="/images/1578277415727.png" alt="1578277415727.png"></p>
<p>点击详情:</p>
<p><img src="/images/1578277442350.png" alt="1578277442350.png"></p>
<p>获取当前验证码应用的应用ID和应用秘钥.</p>
<p><img src="/images/1578277500168.png" alt="1578277500168.png"></p>
<p>把秘钥和ID保存到settings/dev.py配置文件中.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 腾讯防水墙配置</span><br><span class="line">TENCENT_CAPTCHA = &#123;</span><br><span class="line">    "GATEWAY": "https://ssl.captcha.qq.com/ticket/verify",</span><br><span class="line">    "APPID": "2086888489",</span><br><span class="line">    "App_Secret_Key": "0TGMvQXvBZ54r9bOWrNYEhA**",</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="前端获取显示并校验验证码"><a href="#前端获取显示并校验验证码" class="headerlink" title="前端获取显示并校验验证码"></a>前端获取显示并校验验证码</h3><p>把防水墙的前端核心js文件通过index.html引入。</p>
<p>下载地址：<a href="https://ssl.captcha.qq.com/TCaptcha.js" target="_blank" rel="noopener">https://ssl.captcha.qq.com/TCaptcha.js</a></p>
<p>在settings.js中添加配置：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  Host:"http://api.renran.cn:8000",</span><br><span class="line">  TC_captcha:&#123;</span><br><span class="line">    app_id: "2086888489",</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Login.vue代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">"/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-in-container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"new_session"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle js-normal"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"登录账号或手机号或邮箱"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"username"</span> <span class="attr">id</span>=<span class="string">"session_email_or_mobile_number"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- 海外登录登录名输入框 --&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">v-model</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"session_password"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"remember-btn"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">"true"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> <span class="attr">v-model</span>=<span class="string">"remember_me"</span> <span class="attr">id</span>=<span class="string">"session_remember_me"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>记住我<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"forget-btn"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">""</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>登录遇到问题?<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"sign-in-button"</span> <span class="attr">id</span>=<span class="string">"sign-in-form-submit-btn"</span> <span class="attr">type</span>=<span class="string">"button"</span> @<span class="attr">click.prevent</span>=<span class="string">"show_captcha"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"sign-in-loading"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>登录</span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 更多登录方式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号登录<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"weibo-link-wrap"</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"weibo"</span> <span class="attr">id</span>=<span class="string">"weibo-link"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-weibo"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="meta"><span class="meta-keyword">import</span> "../../static/js/TCaptcha";</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Login"</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">             username:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">             password:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">             remember_me: <span class="literal">false</span>,</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line"><span class="actionscript">          <span class="comment">// 登录</span></span></span><br><span class="line">          loginhander()&#123;</span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.$axios.post(<span class="keyword">this</span>.$settings.Host+<span class="string">"/users/login/"</span>,</span></span><br><span class="line">              &#123;</span><br><span class="line"><span class="actionscript">                <span class="string">"username"</span>:<span class="keyword">this</span>.username,</span></span><br><span class="line"><span class="actionscript">                <span class="string">"password"</span>:<span class="keyword">this</span>.password</span></span><br><span class="line"><span class="javascript">              &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// 使用浏览器本地存储保存token</span></span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">if</span> (<span class="keyword">this</span>.remember_me) &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 记住登录</span></span></span><br><span class="line"><span class="actionscript">                    sessionStorage.removeItem(<span class="string">"user_token"</span>);</span></span><br><span class="line"><span class="actionscript">                    sessionStorage.removeItem(<span class="string">"user_id"</span>);</span></span><br><span class="line"><span class="actionscript">                    sessionStorage.removeItem(<span class="string">"user_name"</span>);</span></span><br><span class="line"><span class="actionscript">                    sessionStorage.removeItem(<span class="string">"user_avatar"</span>);</span></span><br><span class="line">                    localStorage.user_token = response.data.token;</span><br><span class="line">                    localStorage.user_id = response.data.id;</span><br><span class="line">                    localStorage.user_name = response.data.username;</span><br><span class="line">                    localStorage.user_avatar = response.data.avatar;</span><br><span class="line"><span class="actionscript">                  &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">// 未记住登录</span></span></span><br><span class="line"><span class="actionscript">                    localStorage.removeItem(<span class="string">"user_token"</span>);</span></span><br><span class="line"><span class="actionscript">                    localStorage.removeItem(<span class="string">"user_id"</span>);</span></span><br><span class="line"><span class="actionscript">                    localStorage.removeItem(<span class="string">"user_name"</span>);</span></span><br><span class="line"><span class="actionscript">                    localStorage.removeItem(<span class="string">"user_avatar"</span>);</span></span><br><span class="line">                    sessionStorage.user_token = response.data.token;</span><br><span class="line">                    sessionStorage.user_id = response.data.id;</span><br><span class="line">                    sessionStorage.user_name = response.data.username;</span><br><span class="line">                    sessionStorage.user_avatar = response.data.avatar;</span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                  <span class="keyword">this</span>.$confirm(<span class="string">'登录成功, 欢迎回来！'</span>, <span class="string">'提示'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">                    confirmButtonText: <span class="string">'返回首页'</span>,</span></span><br><span class="line"><span class="actionscript">                    cancelButtonText: <span class="string">'返回上一页'</span>,</span></span><br><span class="line"><span class="actionscript">                    type: <span class="string">'success'</span></span></span><br><span class="line"><span class="javascript">                  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">this</span>.$router.push(<span class="string">"/"</span>);</span></span><br><span class="line"><span class="javascript">                  &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span></span><br><span class="line">                  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">              &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">this</span>.$message.error(<span class="string">"登录失败！账号或密码错误！"</span>);</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">this</span>.username = <span class="string">""</span>;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">this</span>.password = <span class="string">""</span>;</span></span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;,</span><br><span class="line">          show_captcha()&#123;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 判断手机号或者密码是否为空！</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(<span class="keyword">this</span>.username.length&lt;<span class="number">1</span> || <span class="keyword">this</span>.password.length&lt;<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 阻止代码继续往下执行</span></span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 验证码</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> self = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 生成一个验证码对象</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> captcha1 = <span class="keyword">new</span> TencentCaptcha(<span class="keyword">this</span>.$settings.TC_captcha.app_id, <span class="function"><span class="keyword">function</span><span class="params">(res)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">              <span class="built_in">console</span>.log(res);</span></span><br><span class="line"><span class="actionscript">              <span class="comment">// res（未通过验证）= &#123;ret: 1, ticket: null&#125;</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">              <span class="comment">// ticket 验证成功的票据，当且仅当ret=0时ticket有值</span></span></span><br><span class="line"><span class="actionscript">              <span class="comment">// res（验证成功） = &#123;ret: 0, ticket: "String", randstr: "String"&#125;</span></span></span><br><span class="line">              if (res.ret === 0) &#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">// 随机码</span></span></span><br><span class="line"><span class="actionscript">                <span class="comment">// api服务端校验验证码的结果</span></span></span><br><span class="line"><span class="javascript">                self.$axios.get(<span class="string">`<span class="subst">$&#123;self.$settings.Host&#125;</span>/users/captcha/`</span>,&#123;</span></span><br><span class="line">                  params:&#123;</span><br><span class="line">                    ticket: res.ticket,</span><br><span class="line">                    randstr: res.randstr,</span><br><span class="line">                  &#125;</span><br><span class="line"><span class="javascript">                &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// 进行登录处理</span></span></span><br><span class="line">                  self.loginhander();</span><br><span class="line"><span class="javascript">                &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                  self.$message.error(<span class="string">"验证码校验错误！"</span>);</span></span><br><span class="line">                &#125;)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 显示验证码</span></span></span><br><span class="line">            captcha1.show();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">input&#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css">*, <span class="selector-pseudo">:after</span>, <span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">    height: 100%;</span><br><span class="line">    min-height: 750px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    display: inline-block;</span><br><span class="line">    height: 85%;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable</span>,<span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">opacity</span>: <span class="selector-class">.5</span>;</span></span><br><span class="line">    pointer-events: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 25px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    background: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> &#123;</span></span><br><span class="line">    max-width: 280px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    white-space: normal;</span><br><span class="line">    max-width: 230px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-border</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-bg</span> &#123;</span></span><br><span class="line">    left: 2px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    padding: 10px 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static!important;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    font-size: 13px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-forbidden</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    padding: 80px 0 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-container</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 56px;</span><br><span class="line">    margin-left: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">    width: 400px;</span><br><span class="line">    margin: 60px auto 0;</span><br><span class="line">    padding: 50px 50px 30px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 0 8<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">    margin: 0 auto 50px;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-class">.active</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-class">.active</span> &#123;</span></span><br><span class="line">    font-weight: 700;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">b</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">b</span> &#123;</span></span><br><span class="line">    padding: 10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    font-weight: 700</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">    margin-bottom: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 50px;</span><br><span class="line">    margin-bottom: 0;</span><br><span class="line">    padding: 4px 12px 4px 35px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 14px;</span><br><span class="line">    left: 10px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-class">.ic-show</span> &#123;</span></span><br><span class="line">    top: 18px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 8px;</span><br><span class="line">    font-size: 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.geetest-placeholder</span> &#123;</span></span><br><span class="line">    height: 44px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 44px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> &#123;</span></span><br><span class="line">    margin-bottom: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 4px 4px 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.no-radius</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> &#123;</span></span><br><span class="line">    height: 32px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    padding-top: 7px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    margin-right: -7px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#2f2f2f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    margin: 15px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    font-size: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> &#123;</span></span><br><span class="line">    float: right;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 15px 0;</span><br><span class="line">    font-size: 14px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    top: 20px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 0;</span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin-top: -4px;</span><br><span class="line">    margin-right: 2px;</span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: transparent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span> &#123;</span></span><br><span class="line">    margin-top: 20px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 9px 18px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: 25px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    cursor: pointer;</span><br><span class="line">    outline: none;</span><br><span class="line">    display: block;</span><br><span class="line">    clear: both</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3db922</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#187cb7</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span>,<span class="selector-class">.sign</span> <span class="selector-class">.btn-up-resend</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 7px;</span><br><span class="line">    right: 7px;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 36px;</span><br><span class="line">    font-size: 13px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    border-radius: 20px;</span><br><span class="line">    line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> &#123;</span></span><br><span class="line">    margin: 10px 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    line-height: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    padding-left: 110px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-top: 17px;</span><br><span class="line">    padding-left: 35px;</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    max-height: 285px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line">    overflow-y: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-class">.nation-code</span> &#123;</span></span><br><span class="line">    width: 65px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 6px 20px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 20px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">::hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f5f5f5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> &#123;</span></span><br><span class="line">    margin-top: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 0 0 10px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#b5b5b5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    left: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line"><span class="css">    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#b5b5b5</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 60px;</span><br><span class="line">    top: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    right: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">    list-style: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">    margin: 0 5px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    line-height: 50px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    font-size: 28px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-weibo</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#e05244</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-wechat</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00bb29</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-qq_connect</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#498ad5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-douban</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00820f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-more</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span> &#123;</span></span><br><span class="line">    pointer-events: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">body</span><span class="selector-class">.reader-night-mode</span> <span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3f3f3f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e05244</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg);</span><br><span class="line">        transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn);</span><br><span class="line">        transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-password-input</span> &#123;</span></span><br><span class="line">    border-radius: 4px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> &#123;</span></span><br><span class="line">    margin-left: -8px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    margin-right: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span> &#123;</span></span><br><span class="line">    display: inline-block;</span><br><span class="line">    *display: inline;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    width: 18px;</span><br><span class="line">    height: 18px;</span><br><span class="line">    background: url(/static/image/green.png) no-repeat;</span><br><span class="line">    border: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    background-position: 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.hover</span> &#123;</span></span><br><span class="line">    background-position: -20px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span> &#123;</span></span><br><span class="line">    background-position: -40px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -60px 0;</span><br><span class="line">    cursor: default</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -80px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.geetest_panel_box</span>&gt;* &#123;</span></span><br><span class="line">    box-sizing: content-box</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">768px</span>) &#123;</span></span><br><span class="line">    body &#123;</span><br><span class="line">        min-width: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">        height: auto;</span><br><span class="line">        min-height: 0;</span><br><span class="line">        background-color: transparent</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 50%;</span><br><span class="line">        margin: 0 0 0 -200px;</span><br><span class="line">        box-shadow: none</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>api服务端接入验证码的文档说明: <a href="https://007.qq.com/python-access.html?ADTAG=acces.start" target="_blank" rel="noopener">https://007.qq.com/python-access.html?ADTAG=acces.start</a></p>
<p>服务端接受验证结果并返回，代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> status</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CaptchaAPIView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self,request)</span>:</span></span><br><span class="line">        <span class="string">"""验证码的验证结果校验"""</span></span><br><span class="line">        AppSecretKey = settings.TENCENT_CAPTCHA[<span class="string">"App_Secret_Key"</span>]</span><br><span class="line">        appid = settings.TENCENT_CAPTCHA[<span class="string">"APPID"</span>]</span><br><span class="line">        Ticket = request.query_params.get(<span class="string">"ticket"</span>)</span><br><span class="line">        Randstr = request.query_params.get(<span class="string">"randstr"</span>)</span><br><span class="line">        UserIP = request._request.META.get(<span class="string">"REMOTE_ADDR"</span>)</span><br><span class="line">        print(<span class="string">"用户ID地址：%s"</span> % UserIP)</span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">"aid"</span>: appid,</span><br><span class="line">            <span class="string">"AppSecretKey"</span>: AppSecretKey,</span><br><span class="line">            <span class="string">"Ticket"</span>: Ticket,</span><br><span class="line">            <span class="string">"Randstr"</span>: Randstr,</span><br><span class="line">            <span class="string">"UserIP"</span>: UserIP</span><br><span class="line">        &#125;</span><br><span class="line">        params = urlencode(params)</span><br><span class="line"></span><br><span class="line">        f = urlopen(<span class="string">"%s?%s"</span> % (settings.TENCENT_CAPTCHA[<span class="string">"GATEWAY"</span>], params))</span><br><span class="line">        content = f.read()</span><br><span class="line">        res = json.loads(content)</span><br><span class="line">        print(res)</span><br><span class="line">        <span class="keyword">if</span> res:</span><br><span class="line">            error_code = res[<span class="string">"response"</span>]</span><br><span class="line">            <span class="keyword">if</span> int(error_code) == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> Response(<span class="string">"验证通过！"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> Response(<span class="string">"验证失败！%s"</span> % res[<span class="string">"err_msg"</span>], status=status.HTTP_400_BAD_REQUEST)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(<span class="string">"验证失败！"</span>, status=status.HTTP_400_BAD_REQUEST)</span><br></pre></td></tr></table></figure>

<p>路由，代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 子应用路由：</span></span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">"captcha/"</span>, views.CaptchaAPIView.as_view()),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h1 id="用户的注册认证"><a href="#用户的注册认证" class="headerlink" title="用户的注册认证"></a>用户的注册认证</h1><p>前端显示注册页面并调整首页头部和登陆页面的注册按钮的链接。</p>
<p>注册页面Register.vue,主要是通过登录页面进行改成而成</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-up-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"new_user"</span> <span class="attr">id</span>=<span class="string">"new_user"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">accept-charset</span>=<span class="string">"UTF-8"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"你的昵称"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">v-model</span>=<span class="string">"nickname"</span> <span class="attr">id</span>=<span class="string">"user_nickname"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius js-normal"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"手机号"</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">v-model</span>=<span class="string">"mobile"</span> <span class="attr">id</span>=<span class="string">"user_mobile_number"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-phonenumber"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius security-up-code js-security-number"</span> <span class="attr">v-if</span>=<span class="string">"is_show_sms_code"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sms_code"</span> <span class="attr">id</span>=<span class="string">"sms_code"</span> <span class="attr">placeholder</span>=<span class="string">"手机验证码"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-verify"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">tabindex</span>=<span class="string">"-1"</span> <span class="attr">class</span>=<span class="string">"btn-up-resend js-send-code-button disable"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">id</span>=<span class="string">"send_code"</span>&gt;</span>&#123;&#123;sms_code_text&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"security_number"</span> <span class="attr">id</span>=<span class="string">"security_number"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"设置密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">v-model</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"user_password"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"commit"</span> <span class="attr">value</span>=<span class="string">"注册"</span> <span class="attr">class</span>=<span class="string">"sign-up-button"</span> <span class="attr">id</span>=<span class="string">"sign_up_btn"</span> <span class="attr">data-disable-with</span>=<span class="string">"注册"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"sign-up-msg"</span>&gt;</span>点击 “注册” 即表示您同意并愿意遵守荏苒<span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>用户协议<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 和 <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>隐私政策<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 更多注册方式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号直接注册<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Register"</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            nickname:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            mobile:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            password:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code_text:<span class="string">"发送验证码"</span>,</span></span><br><span class="line"><span class="actionscript">            is_show_sms_code:<span class="literal">false</span>,</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch:&#123;</span><br><span class="line">          mobile()&#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.test(<span class="keyword">this</span>.mobile))&#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">false</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">input&#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css">*, <span class="selector-pseudo">:after</span>, <span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">	height: 100%;</span><br><span class="line">	min-height: 750px;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	display: inline-block;</span><br><span class="line">	height: 85%;</span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable</span>,<span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">opacity</span>: <span class="selector-class">.5</span>;</span></span><br><span class="line">	pointer-events: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> &#123;</span></span><br><span class="line">	font-size: 14px;</span><br><span class="line">	line-height: 25px;</span><br><span class="line">	white-space: nowrap;</span><br><span class="line">	background: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> &#123;</span></span><br><span class="line">	max-width: 280px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: static;</span><br><span class="line">	margin-right: 5px;</span><br><span class="line">	font-size: 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	display: inline-block;</span><br><span class="line">	white-space: normal;</span><br><span class="line">	max-width: 230px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-border</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-right-color</span>: <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-bg</span> &#123;</span></span><br><span class="line">	left: 2px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border-right-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	padding: 10px 0;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: static!important;</span><br><span class="line">	margin-right: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	font-size: 15px;</span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line">	margin-top: 10px;</span><br><span class="line">	font-size: 13px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-forbidden</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">	padding: 80px 0 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-container</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">	border-bottom: none;</span><br><span class="line">	border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 56px;</span><br><span class="line">	margin-left: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">	width: 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">	width: 400px;</span><br><span class="line">	margin: 60px auto 0;</span><br><span class="line">	padding: 50px 50px 30px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">	border-radius: 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">box-shadow</span>: 0 0 8<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.1</span>);</span></span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">	margin: 0 auto 50px;</span><br><span class="line">	padding: 10px;</span><br><span class="line">	font-weight: 400;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-class">.active</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-class">.active</span> &#123;</span></span><br><span class="line">	font-weight: 700;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">b</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">b</span> &#123;</span></span><br><span class="line">	padding: 10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">	font-weight: 700</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">	margin-bottom: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	width: 100%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 50px;</span><br><span class="line">	margin-bottom: 0;</span><br><span class="line">	padding: 4px 12px 4px 35px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">	border-radius: 0 0 4px 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 14px;</span><br><span class="line">	left: 10px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-class">.ic-show</span> &#123;</span></span><br><span class="line">	top: 18px;</span><br><span class="line">	left: auto;</span><br><span class="line">	right: 8px;</span><br><span class="line">	font-size: 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.geetest-placeholder</span> &#123;</span></span><br><span class="line">	height: 44px;</span><br><span class="line">	border-radius: 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	text-align: center;</span><br><span class="line">	line-height: 44px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> &#123;</span></span><br><span class="line">	margin-bottom: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	border-bottom: none;</span><br><span class="line">	border-radius: 4px 4px 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.no-radius</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> &#123;</span></span><br><span class="line">	height: 32px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">	padding-top: 7px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">	margin-right: -7px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span> &#123;</span></span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#2f2f2f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> &#123;</span></span><br><span class="line">	float: left;</span><br><span class="line">	margin: 15px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	margin-left: 5px;</span><br><span class="line">	font-size: 15px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> &#123;</span></span><br><span class="line">	float: right;</span><br><span class="line">	position: relative;</span><br><span class="line">	margin: 15px 0;</span><br><span class="line">	font-size: 14px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">	top: 20px;</span><br><span class="line">	left: auto;</span><br><span class="line">	right: 0;</span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 10px 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	margin-top: -4px;</span><br><span class="line">	margin-right: 2px;</span><br><span class="line">	display: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top: 0;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line">	background-color: transparent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 50%;</span><br><span class="line">	left: 50%;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	margin: -10px 0 0 -10px;</span><br><span class="line">	border-radius: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">	border-bottom-color: transparent;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line"><span class="css">	<span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">	z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span> &#123;</span></span><br><span class="line">	margin-top: 20px;</span><br><span class="line">	width: 100%;</span><br><span class="line">	padding: 9px 18px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line">	border: none;</span><br><span class="line">	border-radius: 25px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">	cursor: pointer;</span><br><span class="line">	outline: none;</span><br><span class="line">	display: block;</span><br><span class="line">	clear: both</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#3db922</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#187cb7</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span>,<span class="selector-class">.sign</span> <span class="selector-class">.btn-up-resend</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 7px;</span><br><span class="line">	right: 7px;</span><br><span class="line">	width: 100px;</span><br><span class="line">	height: 36px;</span><br><span class="line">	font-size: 13px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">	border-radius: 20px;</span><br><span class="line">	line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> &#123;</span></span><br><span class="line">	margin: 10px 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-size: 12px;</span><br><span class="line">	line-height: 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	padding-left: 110px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 0;</span><br><span class="line">	left: 0;</span><br><span class="line">	width: 100px;</span><br><span class="line">	height: 50px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	margin-top: 17px;</span><br><span class="line">	padding-left: 35px;</span><br><span class="line">	text-align: left;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">	width: 100%;</span><br><span class="line">	max-height: 285px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	border-radius: 0 0 4px 4px;</span><br><span class="line">	overflow-y: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-class">.nation-code</span> &#123;</span></span><br><span class="line">	width: 65px;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 6px 20px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	line-height: 20px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">::hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#f5f5f5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> &#123;</span></span><br><span class="line">	margin-top: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	margin: 0 0 10px;</span><br><span class="line">	font-size: 12px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#b5b5b5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	left: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line"><span class="css">	<span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#b5b5b5</span>;</span></span><br><span class="line">	display: block;</span><br><span class="line">	position: absolute;</span><br><span class="line">	width: 60px;</span><br><span class="line">	top: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	right: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">	margin-bottom: 10px;</span><br><span class="line">	list-style: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">	margin: 0 5px;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	width: 50px;</span><br><span class="line">	height: 50px;</span><br><span class="line">	line-height: 50px;</span><br><span class="line">	display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	font-size: 28px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-weibo</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#e05244</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-wechat</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#00bb29</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-qq_connect</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#498ad5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-douban</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#00820f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-more</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span> &#123;</span></span><br><span class="line">	pointer-events: none;</span><br><span class="line">	cursor: pointer;</span><br><span class="line">	position: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top: 0;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">body</span><span class="selector-class">.reader-night-mode</span> <span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#3f3f3f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 50%;</span><br><span class="line">	left: 50%;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	margin: -10px 0 0 -10px;</span><br><span class="line">	border-radius: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e05244</span>;</span></span><br><span class="line">	border-bottom-color: transparent;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line"><span class="css">	<span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">	z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rolling &#123;</span></span><br><span class="line">	0% &#123;</span><br><span class="line">		-webkit-transform: rotate(0deg);</span><br><span class="line">		transform: rotate(0deg)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	to &#123;</span><br><span class="line">		-webkit-transform: rotate(1turn);</span><br><span class="line">		transform: rotate(1turn)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> rolling &#123;</span></span><br><span class="line">	0% &#123;</span><br><span class="line">		-webkit-transform: rotate(0deg)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	to &#123;</span><br><span class="line">		-webkit-transform: rotate(1turn)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-password-input</span> &#123;</span></span><br><span class="line">	border-radius: 4px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> &#123;</span></span><br><span class="line">	margin-left: -8px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	margin-right: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span> &#123;</span></span><br><span class="line">	display: inline-block;</span><br><span class="line">	*display: inline;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	width: 18px;</span><br><span class="line">	height: 18px;</span><br><span class="line">	background: url(/static/image/green.png) no-repeat;</span><br><span class="line">	border: none;</span><br><span class="line">	cursor: pointer;</span><br><span class="line">	background-position: 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.hover</span> &#123;</span></span><br><span class="line">	background-position: -20px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span> &#123;</span></span><br><span class="line">	background-position: -40px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">	background-position: -60px 0;</span><br><span class="line">	cursor: default</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">	background-position: -80px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.geetest_panel_box</span>&gt;* &#123;</span></span><br><span class="line">	box-sizing: content-box</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">768px</span>) &#123;</span></span><br><span class="line">	body &#123;</span><br><span class="line">		min-width: 0</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">		height: auto;</span><br><span class="line">		min-height: 0;</span><br><span class="line">		background-color: transparent</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">		display: none</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">		position: absolute;</span><br><span class="line">		left: 50%;</span><br><span class="line">		margin: 0 0 0 -200px;</span><br><span class="line">		box-shadow: none</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>前端注册路由:</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Register <span class="keyword">from</span> <span class="string">"../components/Register"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置路由列表</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode:<span class="string">"history"</span>,</span><br><span class="line">  routes:[</span><br><span class="line">    <span class="comment">// 路由列表</span></span><br><span class="line">	...</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">"Register"</span>,</span><br><span class="line">      path: <span class="string">"/register"</span>,</span><br><span class="line">      component:Register,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>修改首页头部的连接:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Header.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"header-register"</span>&gt;</span><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">#Login.vue</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"go_login"</span> &gt;</span>没有账号 <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/register"</span>&gt;</span>立即注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="注册功能的实现"><a href="#注册功能的实现" class="headerlink" title="注册功能的实现"></a>注册功能的实现</h2><h3 id="实现基本的账号信息注册"><a href="#实现基本的账号信息注册" class="headerlink" title="实现基本的账号信息注册"></a>实现基本的账号信息注册</h3><p>视图代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.generics <span class="keyword">import</span> CreateAPIView</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> UserModelSerializer</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserCreateAPIView</span><span class="params">(CreateAPIView)</span>:</span></span><br><span class="line">    queryset = User.objects.all()</span><br><span class="line">    serializer_class = UserModelSerializer</span><br></pre></td></tr></table></figure>

<p>序列化器中,验证和保存数据,并返回jwt登录认证</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserModelSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    <span class="string">"""用户信息序列化器"""</span></span><br><span class="line">    sms_code = serializers.CharField(required=<span class="literal">True</span>, write_only=<span class="literal">True</span>, max_length=<span class="number">5</span>, help_text=<span class="string">"短信验证码"</span>)</span><br><span class="line">    token = serializers.CharField(read_only=<span class="literal">True</span>, help_text=<span class="string">"jwt登录认证"</span>)</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = User</span><br><span class="line">        fields = [<span class="string">"id"</span>,<span class="string">"username"</span>,<span class="string">"mobile"</span>,<span class="string">"password"</span>,<span class="string">"nickname"</span>,<span class="string">"sms_code"</span>,<span class="string">"token"</span>]</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">"id"</span>:&#123;<span class="string">"read_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"username"</span>:&#123;<span class="string">"read_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"mobile"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span>, <span class="string">"write_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"password"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span>, <span class="string">"write_only"</span>:<span class="literal">True</span>, <span class="string">"max_length"</span>: <span class="number">16</span>, <span class="string">"min_length"</span>: <span class="number">6</span>&#125;,</span><br><span class="line">            <span class="string">"nickname"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate</span><span class="params">(self, attrs)</span>:</span></span><br><span class="line">        <span class="comment"># 1. 验证手机号码是否格式正确</span></span><br><span class="line">        mobile = attrs.get(<span class="string">"mobile"</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> re.match(<span class="string">"^1[3-9]\d&#123;9&#125;$"</span>, mobile):</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"手机号码格式错误！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2. 验证手机号是否注册了</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            User.objects.get(mobile=mobile)</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"手机号码被占用！"</span>)</span><br><span class="line">        <span class="keyword">except</span> User.DoesNotExist:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3. 昵称是否被注册了</span></span><br><span class="line">        nickname = attrs.get(<span class="string">"nickname"</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            User.objects.get(nickname=nickname)</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"用户昵称被占用！"</span>)</span><br><span class="line">        <span class="keyword">except</span> User.DoesNotExist:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># todo 4. 验证手机短信是否正确</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> attrs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span><span class="params">(self, validated_data)</span>:</span></span><br><span class="line">        <span class="string">"""保存用户注册信息"""</span></span><br><span class="line">        mobile = validated_data.get(<span class="string">"mobile"</span>)</span><br><span class="line">        nickname = validated_data.get(<span class="string">"nickname"</span>)</span><br><span class="line">        password = validated_data.get(<span class="string">"password"</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            user = User.objects.create_user(mobile=mobile, nickname=nickname, password=password)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"用户信息注册失败！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 返回jwt登录token</span></span><br><span class="line">        <span class="keyword">from</span> rest_framework_jwt.settings <span class="keyword">import</span> api_settings</span><br><span class="line"></span><br><span class="line">        jwt_payload_handler = api_settings.JWT_PAYLOAD_HANDLER</span><br><span class="line">        jwt_encode_handler = api_settings.JWT_ENCODE_HANDLER</span><br><span class="line"></span><br><span class="line">        payload = jwt_payload_handler(user)</span><br><span class="line">        user.token = jwt_encode_handler(payload)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> user</span><br></pre></td></tr></table></figure>

<p>路由,代码:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">""</span>, views.UserCreateAPIView.as_view()),</span><br></pre></td></tr></table></figure>

<h3 id="客户端提交注册信息"><a href="#客户端提交注册信息" class="headerlink" title="客户端提交注册信息"></a>客户端提交注册信息</h3><p>register.vue,代码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-up-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"new_user"</span> <span class="attr">id</span>=<span class="string">"new_user"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">accept-charset</span>=<span class="string">"UTF-8"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"你的昵称"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">v-model</span>=<span class="string">"nickname"</span> <span class="attr">id</span>=<span class="string">"user_nickname"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius js-normal"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"手机号"</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">v-model</span>=<span class="string">"mobile"</span> <span class="attr">id</span>=<span class="string">"user_mobile_number"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-phonenumber"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius security-up-code js-security-number"</span> <span class="attr">v-if</span>=<span class="string">"is_show_sms_code"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sms_code"</span> <span class="attr">id</span>=<span class="string">"sms_code"</span> <span class="attr">placeholder</span>=<span class="string">"手机验证码"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-verify"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">tabindex</span>=<span class="string">"-1"</span> <span class="attr">class</span>=<span class="string">"btn-up-resend js-send-code-button disable"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">id</span>=<span class="string">"send_code"</span>&gt;</span>&#123;&#123;sms_code_text&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"security_number"</span> <span class="attr">id</span>=<span class="string">"security_number"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"设置密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">v-model</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"user_password"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"commit"</span> <span class="attr">value</span>=<span class="string">"注册"</span> <span class="attr">class</span>=<span class="string">"sign-up-button"</span> <span class="attr">id</span>=<span class="string">"sign_up_btn"</span> @<span class="attr">click.prevent</span>=<span class="string">"registerHandler"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"sign-up-msg"</span>&gt;</span>点击 “注册” 即表示您同意并愿意遵守荏苒<span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>用户协议<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 和 <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>隐私政策<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 更多注册方式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号直接注册<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Register"</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            nickname:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            mobile:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            password:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code_text:<span class="string">"发送验证码"</span>,</span></span><br><span class="line"><span class="actionscript">            is_show_sms_code:<span class="literal">false</span>,</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123;</span><br><span class="line">          mobile() &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.test(<span class="keyword">this</span>.mobile)) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">false</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">          registerHandler()&#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// todo 数据验证</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 注册处理</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.$axios.post(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.$settings.Host&#125;</span>/users/`</span>,&#123;</span></span><br><span class="line"><span class="actionscript">                mobile: <span class="keyword">this</span>.mobile,</span></span><br><span class="line"><span class="actionscript">                nickname: <span class="keyword">this</span>.nickname,</span></span><br><span class="line"><span class="actionscript">                password: <span class="keyword">this</span>.password,</span></span><br><span class="line"><span class="actionscript">                sms_code: <span class="keyword">this</span>.sms_code,</span></span><br><span class="line"><span class="javascript">            &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span> &#123;</span></span><br><span class="line">              sessionStorage.user_token = response.data.token;</span><br><span class="line">              sessionStorage.user_id = response.data.id;</span><br><span class="line">              sessionStorage.user_name = response.data.username;</span><br><span class="line">              sessionStorage.user_avatar = response.data.avatar;</span><br><span class="line">              sessionStorage.user_nickname = response.data.nickname;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.$confirm(<span class="string">'注册成功, 欢迎加入荏苒！'</span>, <span class="string">'提示'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">                confirmButtonText: <span class="string">'跳转到首页'</span>,</span></span><br><span class="line"><span class="actionscript">                cancelButtonText: <span class="string">'跳转上一页'</span>,</span></span><br><span class="line"><span class="actionscript">                type: <span class="string">'success'</span></span></span><br><span class="line"><span class="javascript">              &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$router.push(<span class="string">"/"</span>);</span></span><br><span class="line"><span class="javascript">              &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span></span><br><span class="line">              &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">            &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$message.error(<span class="string">"用户注册失败！"</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">input&#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css">*, <span class="selector-pseudo">:after</span>, <span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">    height: 100%;</span><br><span class="line">    min-height: 750px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    display: inline-block;</span><br><span class="line">    height: 85%;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable</span>,<span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">opacity</span>: <span class="selector-class">.5</span>;</span></span><br><span class="line">    pointer-events: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 25px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    background: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> &#123;</span></span><br><span class="line">    max-width: 280px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static;</span><br><span class="line">    margin-right: 5px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    white-space: normal;</span><br><span class="line">    max-width: 230px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-border</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-bg</span> &#123;</span></span><br><span class="line">    left: 2px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-right-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    padding: 10px 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: static!important;</span><br><span class="line">    margin-right: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    font-size: 15px;</span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    font-size: 13px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-forbidden</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    padding: 80px 0 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-container</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 56px;</span><br><span class="line">    margin-left: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">    width: 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">    width: 400px;</span><br><span class="line">    margin: 60px auto 0;</span><br><span class="line">    padding: 50px 50px 30px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 0 8<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">    margin: 0 auto 50px;</span><br><span class="line">    padding: 10px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-class">.active</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-class">.active</span> &#123;</span></span><br><span class="line">    font-weight: 700;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">b</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">b</span> &#123;</span></span><br><span class="line">    padding: 10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">    font-weight: 700</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">    margin-bottom: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 100%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 50px;</span><br><span class="line">    margin-bottom: 0;</span><br><span class="line">    padding: 4px 12px 4px 35px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 14px;</span><br><span class="line">    left: 10px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-class">.ic-show</span> &#123;</span></span><br><span class="line">    top: 18px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 8px;</span><br><span class="line">    font-size: 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.geetest-placeholder</span> &#123;</span></span><br><span class="line">    height: 44px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    text-align: center;</span><br><span class="line">    line-height: 44px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> &#123;</span></span><br><span class="line">    margin-bottom: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-radius: 4px 4px 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.no-radius</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> &#123;</span></span><br><span class="line">    height: 32px;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">    padding-top: 7px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">    margin-right: -7px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span> &#123;</span></span><br><span class="line">    font-size: 14px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#2f2f2f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    margin: 15px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    font-size: 15px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line">    vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> &#123;</span></span><br><span class="line">    float: right;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 15px 0;</span><br><span class="line">    font-size: 14px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    top: 20px;</span><br><span class="line">    left: auto;</span><br><span class="line">    right: 0;</span><br><span class="line">    border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 10px 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin-top: -4px;</span><br><span class="line">    margin-right: 2px;</span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: transparent</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span> &#123;</span></span><br><span class="line">    margin-top: 20px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 9px 18px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    border: none;</span><br><span class="line">    border-radius: 25px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    cursor: pointer;</span><br><span class="line">    outline: none;</span><br><span class="line">    display: block;</span><br><span class="line">    clear: both</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3db922</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-id">#187cb7</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span>,<span class="selector-class">.sign</span> <span class="selector-class">.btn-up-resend</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 7px;</span><br><span class="line">    right: 7px;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 36px;</span><br><span class="line">    font-size: 13px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">    border-radius: 20px;</span><br><span class="line">    line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> &#123;</span></span><br><span class="line">    margin: 10px 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    line-height: 20px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">    padding-left: 110px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">    margin-top: 17px;</span><br><span class="line">    padding-left: 35px;</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    max-height: 285px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    border-radius: 0 0 4px 4px;</span><br><span class="line">    overflow-y: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-class">.nation-code</span> &#123;</span></span><br><span class="line">    width: 65px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    padding: 6px 20px;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    line-height: 20px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">::hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#f5f5f5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> &#123;</span></span><br><span class="line">    margin-top: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line">    position: relative;</span><br><span class="line">    margin: 0 0 10px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#b5b5b5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    left: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line"><span class="css">    <span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#b5b5b5</span>;</span></span><br><span class="line">    display: block;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 60px;</span><br><span class="line">    top: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    right: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">    list-style: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">    margin: 0 5px;</span><br><span class="line">    display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    line-height: 50px;</span><br><span class="line">    display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    font-size: 28px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-weibo</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#e05244</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-wechat</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00bb29</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-qq_connect</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#498ad5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-douban</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#00820f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-more</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span> &#123;</span></span><br><span class="line">    pointer-events: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    position: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">body</span><span class="selector-class">.reader-night-mode</span> <span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-id">#3f3f3f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    content: "";</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    width: 20px;</span><br><span class="line">    height: 20px;</span><br><span class="line">    margin: -10px 0 0 -10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line"><span class="css">    <span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e05244</span>;</span></span><br><span class="line">    border-bottom-color: transparent;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">    z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg);</span><br><span class="line">        transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn);</span><br><span class="line">        transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> rolling &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line">        -webkit-transform: rotate(0deg)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    to &#123;</span><br><span class="line">        -webkit-transform: rotate(1turn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-password-input</span> &#123;</span></span><br><span class="line">    border-radius: 4px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> &#123;</span></span><br><span class="line">    margin-left: -8px;</span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">    margin-right: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span> &#123;</span></span><br><span class="line">    display: inline-block;</span><br><span class="line">    *display: inline;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    width: 18px;</span><br><span class="line">    height: 18px;</span><br><span class="line">    background: url(/static/image/green.png) no-repeat;</span><br><span class="line">    border: none;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    background-position: 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.hover</span> &#123;</span></span><br><span class="line">    background-position: -20px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span> &#123;</span></span><br><span class="line">    background-position: -40px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -60px 0;</span><br><span class="line">    cursor: default</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">    background-position: -80px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.geetest_panel_box</span>&gt;* &#123;</span></span><br><span class="line">    box-sizing: content-box</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">768px</span>) &#123;</span></span><br><span class="line">    body &#123;</span><br><span class="line">        min-width: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">        height: auto;</span><br><span class="line">        min-height: 0;</span><br><span class="line">        background-color: transparent</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">        position: absolute;</span><br><span class="line">        left: 50%;</span><br><span class="line">        margin: 0 0 0 -200px;</span><br><span class="line">        box-shadow: none</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="在注册功能中集成短信验证码功能"><a href="#在注册功能中集成短信验证码功能" class="headerlink" title="在注册功能中集成短信验证码功能"></a>在注册功能中集成短信验证码功能</h2><p>接下来，我们把注册过程中一些注册信息（例如：短信验证码）和session缓存到redis数据库中。</p>
<p>安装django-redis。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-redis</span><br></pre></td></tr></table></figure>

<p>在settings/dev.py配置中添加一下代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># 设置redis缓存</span><br><span class="line">CACHES = &#123;</span><br><span class="line">    # 默认缓存</span><br><span class="line">    <span class="string">"default"</span>: &#123;</span><br><span class="line">        <span class="string">"BACKEND"</span>: <span class="string">"django_redis.cache.RedisCache"</span>,</span><br><span class="line">        # 项目上线时,需要调整这里的路径</span><br><span class="line">        <span class="string">"LOCATION"</span>: <span class="string">"redis://127.0.0.1:6379/0"</span>,</span><br><span class="line"></span><br><span class="line">        <span class="string">"OPTIONS"</span>: &#123;</span><br><span class="line">            <span class="string">"CLIENT_CLASS"</span>: <span class="string">"django_redis.client.DefaultClient"</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    # 提供给xadmin或者admin的session存储</span><br><span class="line">    <span class="string">"session"</span>: &#123;</span><br><span class="line">        <span class="string">"BACKEND"</span>: <span class="string">"django_redis.cache.RedisCache"</span>,</span><br><span class="line">        <span class="string">"LOCATION"</span>: <span class="string">"redis://127.0.0.1:6379/1"</span>,</span><br><span class="line">        <span class="string">"OPTIONS"</span>: &#123;</span><br><span class="line">            <span class="string">"CLIENT_CLASS"</span>: <span class="string">"django_redis.client.DefaultClient"</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    # 提供存储短信验证码</span><br><span class="line">    <span class="string">"sms_code"</span>:&#123;</span><br><span class="line">        <span class="string">"BACKEND"</span>: <span class="string">"django_redis.cache.RedisCache"</span>,</span><br><span class="line">        <span class="string">"LOCATION"</span>: <span class="string">"redis://127.0.0.1:6379/2"</span>,</span><br><span class="line">        <span class="string">"OPTIONS"</span>: &#123;</span><br><span class="line">            <span class="string">"CLIENT_CLASS"</span>: <span class="string">"django_redis.client.DefaultClient"</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 设置xadmin用户登录时,登录信息session保存到redis</span><br><span class="line">SESSION_ENGINE = <span class="string">"django.contrib.sessions.backends.cache"</span></span><br><span class="line">SESSION_CACHE_ALIAS = <span class="string">"session"</span></span><br></pre></td></tr></table></figure>

<p><strong>关于django-redis 的使用，说明文档可见<a href="http://django-redis-chs.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener">http://django-redis-chs.readthedocs.io/zh_CN/latest/</a></strong></p>
<p><strong>django-redis提供了get_redis_connection的方法，通过调用get_redis_connection方法传递redis的配置名称可获取到redis的连接对象，通过redis连接对象可以执行redis命令</strong></p>
<p><a href="https://redis-py.readthedocs.io/en/latest/" target="_blank" rel="noopener">https://redis-py.readthedocs.io/en/latest/</a></p>
<p>使用范例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django_redis <span class="keyword">import</span> get_redis_connection// 链接redis数据库redis_conn = get_redis_connection(<span class="string">"default"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="使用云通讯发送短信"><a href="#使用云通讯发送短信" class="headerlink" title="使用云通讯发送短信"></a>使用云通讯发送短信</h3><p>在登录后的平台上面获取一下信息:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ACCOUNT SID：8aaf0708697b6beb01699f4442911776</span><br><span class="line">AUTH TOKEN : b4dea244f43a4e0f90e557f0a99c70fa</span><br><span class="line">AppID(默认)：8aaf0708697b6beb01699f4442e3177c</span><br><span class="line">Rest URL(生产)： app.cloopen.com:8883         [项目上线时使用真实短信发送服务器]</span><br><span class="line">Rest URL(开发)： sandboxapp.cloopen.com:8883  [项目开发时使用沙箱短信发送服务器]</span><br></pre></td></tr></table></figure>

<p>找到sdkdemo进行下载</p>
<p><img src="/images/1553677987640.png" alt="1553677987640.png"></p>
<p>在开发过程中,为了节约发送短信的成本,可以把自己的或者同事的手机加入到测试号码中.</p>
<p><img src="/images/1553678528811.png" alt="1553678528811.png"></p>
<h3 id="后端生成短信验证码"><a href="#后端生成短信验证码" class="headerlink" title="后端生成短信验证码"></a>后端生成短信验证码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> renranapi.libs.yuntongxun.sms <span class="keyword">import</span> CCP</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> django_redis <span class="keyword">import</span> get_redis_connection</span><br><span class="line"><span class="keyword">from</span> renranapi.settings <span class="keyword">import</span> constants</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SMSCodeAPIView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    短信验证码</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request, mobile)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        短信验证码</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment"># 生成短信验证码</span></span><br><span class="line">        sms_code = <span class="string">"%06d"</span> % random.randint(<span class="number">0</span>, <span class="number">999999</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 保存短信验证码与发送记录</span></span><br><span class="line">        redis_conn = get_redis_connection(<span class="string">'sms_code'</span>)</span><br><span class="line">        <span class="comment"># 使用redis提供的管道操作可以一次性执行多条redis命令</span></span><br><span class="line">        pl = redis_conn.pipeline()</span><br><span class="line">        pl.multi()</span><br><span class="line">        pl.setex(<span class="string">"sms_%s"</span> % mobile, constants.SMS_CODE_EXPIRE, sms_code)   <span class="comment"># 设置短信有效期为300s</span></span><br><span class="line">        pl.setex(<span class="string">"sms_time_%s"</span> % mobile, constants.SMS_CODE_INTERVAL, <span class="string">"_"</span>)    <span class="comment"># 设置发送短信间隔为60s</span></span><br><span class="line">        pl.execute()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 发送短信验证码</span></span><br><span class="line">        ccp = CCP()</span><br><span class="line">        ccp.send_template_sms(mobile, [sms_code, ], constants.SMS_CODE_EXPIRE//<span class="number">60</span>, settings.SMS.SMS_TEMPLATE_ID)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">"message"</span>: <span class="string">"OK"</span>&#125;, status.HTTP_200_OK)</span><br></pre></td></tr></table></figure>

<p>settings/constants.py代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 短信有效使用时间</span></span><br><span class="line">SMS_CODE_EXPIRE = <span class="number">300</span></span><br><span class="line"><span class="comment"># 短信发送冷却时间</span></span><br><span class="line">SMS_CODE_INTERVAL = <span class="number">60</span></span><br></pre></td></tr></table></figure>

<p>客户端发送注册信息和发送短信</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sign"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/static/image/nav-logo.png"</span> <span class="attr">alt</span>=<span class="string">"Logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"normal-title"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/user/login"</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">b</span>&gt;</span>·<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">id</span>=<span class="string">"js-sign-up-btn"</span> <span class="attr">class</span>=<span class="string">"active"</span> <span class="attr">to</span>=<span class="string">"/user/register"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"js-sign-up-container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"new_user"</span> <span class="attr">id</span>=<span class="string">"new_user"</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">accept-charset</span>=<span class="string">"UTF-8"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"你的昵称"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">""</span> <span class="attr">v-model</span>=<span class="string">"nickname"</span> <span class="attr">id</span>=<span class="string">"user_nickname"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-user"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius js-normal"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"手机号"</span> <span class="attr">type</span>=<span class="string">"tel"</span> <span class="attr">v-model</span>=<span class="string">"mobile"</span> <span class="attr">id</span>=<span class="string">"user_mobile_number"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-phonenumber"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend restyle no-radius security-up-code js-security-number"</span> <span class="attr">v-if</span>=<span class="string">"is_show_sms_code"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"sms_code"</span> <span class="attr">id</span>=<span class="string">"sms_code"</span> <span class="attr">placeholder</span>=<span class="string">"手机验证码"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-verify"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">tabindex</span>=<span class="string">"-1"</span> <span class="attr">class</span>=<span class="string">"btn-up-resend js-send-code-button"</span>  <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">id</span>=<span class="string">"send_code"</span> @<span class="attr">click.prevent</span>=<span class="string">"send_sms"</span>&gt;</span>&#123;&#123;sms_code_text&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"security_number"</span> <span class="attr">id</span>=<span class="string">"security_number"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"input-prepend"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">"设置密码"</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">v-model</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"user_password"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-password"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">name</span>=<span class="string">"commit"</span> <span class="attr">value</span>=<span class="string">"注册"</span> <span class="attr">class</span>=<span class="string">"sign-up-button"</span> <span class="attr">id</span>=<span class="string">"sign_up_btn"</span> @<span class="attr">click.prevent</span>=<span class="string">"registerHandler"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"sign-up-msg"</span>&gt;</span>点击 “注册” 即表示您同意并愿意遵守荏苒<span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>用户协议<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 和 <span class="tag">&lt;<span class="name">a</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>隐私政策<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 更多注册方式 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"more-sign"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h6</span>&gt;</span>社交帐号直接注册<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"weixin"</span> <span class="attr">class</span>=<span class="string">"weixin"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-wechat"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"qq"</span> <span class="attr">class</span>=<span class="string">"qq"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"iconfont ic-qq_connect"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">        name: <span class="string">"Register"</span>,</span></span><br><span class="line">        data()&#123;</span><br><span class="line"><span class="actionscript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">            nickname:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            mobile:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            password:<span class="string">""</span>,</span></span><br><span class="line"><span class="actionscript">            sms_code_text:<span class="string">"发送验证码"</span>,</span></span><br><span class="line"><span class="actionscript">            is_show_sms_code:<span class="literal">false</span>,</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123;</span><br><span class="line">          mobile() &#123;</span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.test(<span class="keyword">this</span>.mobile)) &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.is_show_sms_code = <span class="literal">false</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">          registerHandler()&#123;</span><br><span class="line"><span class="actionscript">            <span class="comment">// todo 数据验证</span></span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="comment">// 注册处理</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.$axios.post(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.$settings.Host&#125;</span>/users/`</span>,&#123;</span></span><br><span class="line"><span class="actionscript">                mobile: <span class="keyword">this</span>.mobile,</span></span><br><span class="line"><span class="actionscript">                nickname: <span class="keyword">this</span>.nickname,</span></span><br><span class="line"><span class="actionscript">                password: <span class="keyword">this</span>.password,</span></span><br><span class="line"><span class="actionscript">                sms_code: <span class="keyword">this</span>.sms_code,</span></span><br><span class="line"><span class="javascript">            &#125;).then(<span class="function"><span class="params">response</span>=&gt;</span> &#123;</span></span><br><span class="line">              sessionStorage.user_token = response.data.token;</span><br><span class="line">              sessionStorage.user_id = response.data.id;</span><br><span class="line">              sessionStorage.user_name = response.data.username;</span><br><span class="line">              sessionStorage.user_avatar = response.data.avatar;</span><br><span class="line">              sessionStorage.user_nickname = response.data.nickname;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">              <span class="keyword">this</span>.$confirm(<span class="string">'注册成功, 欢迎加入荏苒！'</span>, <span class="string">'提示'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">                confirmButtonText: <span class="string">'跳转到首页'</span>,</span></span><br><span class="line"><span class="actionscript">                cancelButtonText: <span class="string">'跳转上一页'</span>,</span></span><br><span class="line"><span class="actionscript">                type: <span class="string">'success'</span></span></span><br><span class="line"><span class="javascript">              &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$router.push(<span class="string">"/"</span>);</span></span><br><span class="line"><span class="javascript">              &#125;).catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$router.go(<span class="number">-1</span>);</span></span><br><span class="line">              &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">            &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$message.error(<span class="string">"用户注册失败！"</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;,</span><br><span class="line">          send_sms()&#123;</span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>( !<span class="regexp">/1[1-9]&#123;2&#125;\d&#123;8&#125;/</span>.test(<span class="keyword">this</span>.mobile) )&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 如果 sms_code_text 不是文本,而是数字,则表示当前手机号码还在60秒的发送短信间隔内</span></span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span>(<span class="keyword">this</span>.sms_code_text != <span class="string">"发送验证码"</span>)&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="comment">// 发送短信</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> _this = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">this</span>.$axios.get(<span class="string">`<span class="subst">$&#123;_this.$settings.Host&#125;</span>/users/sms/<span class="subst">$&#123;_this.mobile&#125;</span>/`</span>).then(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="actionscript">                  <span class="comment">// 显示发送短信以后的文本倒计时</span></span></span><br><span class="line"><span class="javascript">                  <span class="keyword">let</span> time = <span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">                  <span class="keyword">let</span> timer = setInterval(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line">                    --time;</span><br><span class="line">                    if(time &lt;=1)&#123;</span><br><span class="line"><span class="actionscript">                      <span class="comment">// 如果倒计时为0,则关闭当前定时器</span></span></span><br><span class="line"><span class="actionscript">                      _this.sms_code_text = <span class="string">"发送验证码"</span>;</span></span><br><span class="line">                      clearInterval(timer);</span><br><span class="line">                      time = 60;</span><br><span class="line"><span class="actionscript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                        _this.sms_code_text = time+<span class="string">"秒"</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                  &#125;,1000);</span><br><span class="line"></span><br><span class="line"><span class="javascript">                &#125;).catch(<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">                  <span class="built_in">console</span>.log(error);</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line">input&#123;</span><br><span class="line">  outline: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css">*, <span class="selector-pseudo">:after</span>, <span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">	height: 100%;</span><br><span class="line">	min-height: 750px;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#f1f1f1</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	display: inline-block;</span><br><span class="line">	height: 85%;</span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable</span>,<span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">opacity</span>: <span class="selector-class">.5</span>;</span></span><br><span class="line">	pointer-events: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.disable-gray</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> &#123;</span></span><br><span class="line">	font-size: 14px;</span><br><span class="line">	line-height: 25px;</span><br><span class="line">	white-space: nowrap;</span><br><span class="line">	background: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> &#123;</span></span><br><span class="line">	max-width: 280px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: static;</span><br><span class="line">	margin-right: 5px;</span><br><span class="line">	font-size: 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span> <span class="selector-class">.tooltip-inner</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	display: inline-block;</span><br><span class="line">	white-space: normal;</span><br><span class="line">	max-width: 230px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-border</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-right-color</span>: <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.tooltip-error</span><span class="selector-class">.right</span> <span class="selector-class">.tooltip-arrow-bg</span> &#123;</span></span><br><span class="line">	left: 2px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border-right-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	padding: 10px 0;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: static!important;</span><br><span class="line">	margin-right: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>!<span class="selector-tag">important</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	font-size: 15px;</span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line">	margin-top: 10px;</span><br><span class="line">	font-size: 13px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.slide-error</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-forbidden</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">	padding: 80px 0 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.js-sign-up-container</span> <span class="selector-class">.slide-error</span> &#123;</span></span><br><span class="line">	border-bottom: none;</span><br><span class="line">	border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 56px;</span><br><span class="line">	margin-left: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.logo</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">	width: 100px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">	width: 400px;</span><br><span class="line">	margin: 60px auto 0;</span><br><span class="line">	padding: 50px 50px 30px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">	border-radius: 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">box-shadow</span>: 0 0 8<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.1</span>);</span></span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">	margin: 0 auto 50px;</span><br><span class="line">	padding: 10px;</span><br><span class="line">	font-weight: 400;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-class">.active</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-class">.active</span> &#123;</span></span><br><span class="line">	font-weight: 700;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#ea6f5a</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-bottom</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ea6f5a</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> <span class="selector-tag">b</span>,<span class="selector-class">.sign</span> <span class="selector-class">.title</span> <span class="selector-tag">b</span> &#123;</span></span><br><span class="line">	padding: 10px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-title</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span>;</span></span><br><span class="line">	font-weight: 700</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">	margin-bottom: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	width: 100%</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 50px;</span><br><span class="line">	margin-bottom: 0;</span><br><span class="line">	padding: 4px 12px 4px 35px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span>;</span></span><br><span class="line">	border-radius: 0 0 4px 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 14px;</span><br><span class="line">	left: 10px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.input-prepend</span> <span class="selector-class">.ic-show</span> &#123;</span></span><br><span class="line">	top: 18px;</span><br><span class="line">	left: auto;</span><br><span class="line">	right: 8px;</span><br><span class="line">	font-size: 12px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.geetest-placeholder</span> &#123;</span></span><br><span class="line">	height: 44px;</span><br><span class="line">	border-radius: 4px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	text-align: center;</span><br><span class="line">	line-height: 44px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> &#123;</span></span><br><span class="line">	margin-bottom: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.restyle</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	border-bottom: none;</span><br><span class="line">	border-radius: 4px 4px 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.no-radius</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	border-radius: 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> &#123;</span></span><br><span class="line">	height: 32px;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-tag">hsla</span>(0,0%,71%,<span class="selector-class">.1</span>);</span></span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-tag">form</span> <span class="selector-class">.slide-security-placeholder</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">	padding-top: 7px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span>;</span></span><br><span class="line">	margin-right: -7px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span> &#123;</span></span><br><span class="line">	font-size: 14px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#2f2f2f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> &#123;</span></span><br><span class="line">	float: left;</span><br><span class="line">	margin: 15px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.remember-btn</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	margin-left: 5px;</span><br><span class="line">	font-size: 15px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line">	vertical-align: middle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> &#123;</span></span><br><span class="line">	float: right;</span><br><span class="line">	position: relative;</span><br><span class="line">	margin: 15px 0;</span><br><span class="line">	font-size: 14px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">	top: 20px;</span><br><span class="line">	left: auto;</span><br><span class="line">	right: 0;</span><br><span class="line">	border-radius: 4px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.forget-btn</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 10px 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	margin-top: -4px;</span><br><span class="line">	margin-right: 2px;</span><br><span class="line">	display: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top: 0;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line">	background-color: transparent;              </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-id">#sign-in-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 50%;</span><br><span class="line">	left: 50%;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	margin: -10px 0 0 -10px;</span><br><span class="line">	border-radius: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">	border-bottom-color: transparent;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line"><span class="css">	<span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">	z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span> &#123;</span></span><br><span class="line">	margin-top: 20px;</span><br><span class="line">	width: 100%;</span><br><span class="line">	padding: 9px 18px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line">	border: none;</span><br><span class="line">	border-radius: 25px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">	cursor: pointer;</span><br><span class="line">	outline: none;</span><br><span class="line">	display: block;</span><br><span class="line">	clear: both</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#3db922</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-in-button</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background</span>: <span class="selector-id">#187cb7</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span>,<span class="selector-class">.sign</span> <span class="selector-class">.btn-up-resend</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 7px;</span><br><span class="line">	right: 7px;</span><br><span class="line">	width: 100px;</span><br><span class="line">	height: 36px;</span><br><span class="line">	font-size: 13px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#42c02e</span>;</span></span><br><span class="line">	border-radius: 20px;</span><br><span class="line">	line-height: 36px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.btn-in-resend</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> &#123;</span></span><br><span class="line">	margin: 10px 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	text-align: center;</span><br><span class="line">	font-size: 12px;</span><br><span class="line">	line-height: 20px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span>,<span class="selector-class">.sign</span> <span class="selector-class">.sign-up-msg</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#3194d0</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line">	padding-left: 110px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> &#123;</span></span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 0;</span><br><span class="line">	left: 0;</span><br><span class="line">	width: 100px;</span><br><span class="line">	height: 50px;</span><br><span class="line">	font-size: 18px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">border-right</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c8c8c8</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.overseas-number</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">	margin-top: 17px;</span><br><span class="line">	padding-left: 35px;</span><br><span class="line">	text-align: left;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> &#123;</span></span><br><span class="line">	width: 100%;</span><br><span class="line">	max-height: 285px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	border-radius: 0 0 4px 4px;</span><br><span class="line">	overflow-y: auto</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-class">.nation-code</span> &#123;</span></span><br><span class="line">	width: 65px;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	padding: 6px 20px;</span><br><span class="line">	font-size: 14px;</span><br><span class="line">	line-height: 20px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.overseas</span> <span class="selector-class">.dropdown-menu</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">::hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#f5f5f5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> &#123;</span></span><br><span class="line">	margin-top: 50px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span> &#123;</span></span><br><span class="line">	position: relative;</span><br><span class="line">	margin: 0 0 10px;</span><br><span class="line">	font-size: 12px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#b5b5b5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	left: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span>,<span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line"><span class="css">	<span class="selector-tag">border-top</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#b5b5b5</span>;</span></span><br><span class="line">	display: block;</span><br><span class="line">	position: absolute;</span><br><span class="line">	width: 60px;</span><br><span class="line">	top: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">h6</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	right: 30px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line">	margin-bottom: 10px;</span><br><span class="line">	list-style: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line">	margin: 0 5px;</span><br><span class="line">	display: inline-block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">	width: 50px;</span><br><span class="line">	height: 50px;</span><br><span class="line">	line-height: 50px;</span><br><span class="line">	display: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-tag">ul</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	font-size: 28px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-weibo</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#e05244</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-wechat</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#00bb29</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-qq_connect</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#498ad5</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-douban</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#00820f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.ic-more</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#999</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span> &#123;</span></span><br><span class="line">	pointer-events: none;</span><br><span class="line">	cursor: pointer;</span><br><span class="line">	position: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	left: 0;</span><br><span class="line">	top: 0;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">body</span><span class="selector-class">.reader-night-mode</span> <span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">background-color</span>: <span class="selector-id">#3f3f3f</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.more-sign</span> <span class="selector-class">.weibo-loading</span><span class="selector-pseudo">:before</span> &#123;</span></span><br><span class="line">	content: "";</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: 50%;</span><br><span class="line">	left: 50%;</span><br><span class="line">	width: 20px;</span><br><span class="line">	height: 20px;</span><br><span class="line">	margin: -10px 0 0 -10px;</span><br><span class="line">	border-radius: 10px;</span><br><span class="line"><span class="css">	<span class="selector-tag">border</span>: 2<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#e05244</span>;</span></span><br><span class="line">	border-bottom-color: transparent;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line"><span class="css">	<span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">animation</span>: <span class="selector-tag">rolling</span> <span class="selector-class">.8s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span>;</span></span><br><span class="line">	z-index: 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> rolling &#123;</span></span><br><span class="line">	0% &#123;</span><br><span class="line">		-webkit-transform: rotate(0deg);</span><br><span class="line">		transform: rotate(0deg)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	to &#123;</span><br><span class="line">		-webkit-transform: rotate(1turn);</span><br><span class="line">		transform: rotate(1turn)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> rolling &#123;</span></span><br><span class="line">	0% &#123;</span><br><span class="line">		-webkit-transform: rotate(0deg)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	to &#123;</span><br><span class="line">		-webkit-transform: rotate(1turn)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.reset-password-input</span> &#123;</span></span><br><span class="line">	border-radius: 4px!important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> &#123;</span></span><br><span class="line">	margin-left: -8px;</span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#969696</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">	<span class="selector-tag">color</span>: <span class="selector-id">#333</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.return</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line">	margin-right: 5px</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span> &#123;</span></span><br><span class="line">	display: inline-block;</span><br><span class="line">	*display: inline;</span><br><span class="line">	vertical-align: middle;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">	width: 18px;</span><br><span class="line">	height: 18px;</span><br><span class="line">	background: url(/static/image/green.png) no-repeat;</span><br><span class="line">	border: none;</span><br><span class="line">	cursor: pointer;</span><br><span class="line">	background-position: 0 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.hover</span> &#123;</span></span><br><span class="line">	background-position: -20px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span> &#123;</span></span><br><span class="line">	background-position: -40px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">	background-position: -60px 0;</span><br><span class="line">	cursor: default</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.sign</span> <span class="selector-class">.icheckbox_square-green</span><span class="selector-class">.checked</span><span class="selector-class">.disabled</span> &#123;</span></span><br><span class="line">	background-position: -80px 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.geetest_panel_box</span>&gt;* &#123;</span></span><br><span class="line">	box-sizing: content-box</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@media</span> (<span class="attribute">max-width:</span><span class="number">768px</span>) &#123;</span></span><br><span class="line">	body &#123;</span><br><span class="line">		min-width: 0</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> &#123;</span></span><br><span class="line">		height: auto;</span><br><span class="line">		min-height: 0;</span><br><span class="line">		background-color: transparent</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> <span class="selector-class">.logo</span> &#123;</span></span><br><span class="line">		display: none</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"><span class="css">	<span class="selector-class">.sign</span> <span class="selector-class">.main</span> &#123;</span></span><br><span class="line">		position: absolute;</span><br><span class="line">		left: 50%;</span><br><span class="line">		margin: 0 0 0 -200px;</span><br><span class="line">		box-shadow: none</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>服务端完成手机短信的校验和冷却的判断</p>
<p>视图代码，views.py，代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> urlencode</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> status</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CaptchaAPIView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self,request)</span>:</span></span><br><span class="line">        <span class="string">"""验证码的验证结果校验"""</span></span><br><span class="line">        AppSecretKey = settings.TENCENT_CAPTCHA[<span class="string">"App_Secret_Key"</span>]</span><br><span class="line">        appid = settings.TENCENT_CAPTCHA[<span class="string">"APPID"</span>]</span><br><span class="line">        Ticket = request.query_params.get(<span class="string">"ticket"</span>)</span><br><span class="line">        Randstr = request.query_params.get(<span class="string">"randstr"</span>)</span><br><span class="line">        UserIP = request._request.META.get(<span class="string">"REMOTE_ADDR"</span>)</span><br><span class="line">        print(<span class="string">"用户ID地址：%s"</span> % UserIP)</span><br><span class="line">        params = &#123;</span><br><span class="line">            <span class="string">"aid"</span>: appid,</span><br><span class="line">            <span class="string">"AppSecretKey"</span>: AppSecretKey,</span><br><span class="line">            <span class="string">"Ticket"</span>: Ticket,</span><br><span class="line">            <span class="string">"Randstr"</span>: Randstr,</span><br><span class="line">            <span class="string">"UserIP"</span>: UserIP</span><br><span class="line">        &#125;</span><br><span class="line">        params = urlencode(params)</span><br><span class="line"></span><br><span class="line">        f = urlopen(<span class="string">"%s?%s"</span> % (settings.TENCENT_CAPTCHA[<span class="string">"GATEWAY"</span>], params))</span><br><span class="line">        content = f.read()</span><br><span class="line">        res = json.loads(content)</span><br><span class="line">        print(res)</span><br><span class="line">        <span class="keyword">if</span> res:</span><br><span class="line">            error_code = res[<span class="string">"response"</span>]</span><br><span class="line">            <span class="keyword">if</span> error_code == <span class="string">"1"</span>:</span><br><span class="line">                <span class="keyword">return</span> Response(<span class="string">"验证通过！"</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> Response(<span class="string">"验证失败！%s"</span> % res[<span class="string">"err_msg"</span>], status=status.HTTP_400_BAD_REQUEST)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(<span class="string">"验证失败！"</span>, status=status.HTTP_400_BAD_REQUEST)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> rest_framework.generics <span class="keyword">import</span> CreateAPIView</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> UserModelSerializer</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserCreateAPIView</span><span class="params">(CreateAPIView)</span>:</span></span><br><span class="line">    queryset = User.objects.all()</span><br><span class="line">    serializer_class = UserModelSerializer</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> renranapi.libs.yuntongxun.sms <span class="keyword">import</span> CCP</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> django_redis <span class="keyword">import</span> get_redis_connection</span><br><span class="line"><span class="keyword">from</span> renranapi.settings <span class="keyword">import</span> constants</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SMSCodeAPIView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    短信验证码</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request, mobile)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        短信验证码</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        redis_conn = get_redis_connection(<span class="string">'sms_code'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 手机号是否处于发送短信的冷却时间内</span></span><br><span class="line">        interval = redis_conn.get(<span class="string">"sms_time_%s"</span> % mobile)</span><br><span class="line">        <span class="keyword">if</span> interval <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(<span class="string">"不能频繁发送短信！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 生成短信验证码</span></span><br><span class="line">        sms_code = <span class="string">"%06d"</span> % random.randint(<span class="number">0</span>, <span class="number">999999</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 保存短信验证码与发送记录</span></span><br><span class="line">        <span class="comment"># 使用redis提供的管道操作可以一次性执行多条redis命令</span></span><br><span class="line">        pl = redis_conn.pipeline()</span><br><span class="line">        pl.multi()</span><br><span class="line">        pl.setex(<span class="string">"sms_%s"</span> % mobile, constants.SMS_CODE_EXPIRE, sms_code)      <span class="comment"># 设置短信有效期</span></span><br><span class="line">        pl.setex(<span class="string">"sms_time_%s"</span> % mobile, constants.SMS_CODE_INTERVAL, <span class="string">"_"</span>)    <span class="comment"># 设置发送短信间隔为60s</span></span><br><span class="line">        pl.execute()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 发送短信验证码</span></span><br><span class="line">        ccp = CCP()</span><br><span class="line">        ccp.send_template_sms(mobile, [sms_code, constants.SMS_CODE_EXPIRE//<span class="number">60</span>], settings.SMS.get(<span class="string">"_templateID"</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">"message"</span>: <span class="string">"OK"</span>&#125;, status.HTTP_200_OK)</span><br></pre></td></tr></table></figure>

<p>序列化器：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> User</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> django_redis <span class="keyword">import</span> get_redis_connection</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserModelSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    <span class="string">"""用户信息序列化器"""</span></span><br><span class="line">    sms_code = serializers.CharField(required=<span class="literal">True</span>, write_only=<span class="literal">True</span>, max_length=<span class="number">5</span>, help_text=<span class="string">"短信验证码"</span>)</span><br><span class="line">    token = serializers.CharField(read_only=<span class="literal">True</span>, help_text=<span class="string">"jwt登录认证"</span>)</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = User</span><br><span class="line">        fields = [<span class="string">"id"</span>,<span class="string">"username"</span>,<span class="string">"mobile"</span>,<span class="string">"password"</span>,<span class="string">"nickname"</span>,<span class="string">"sms_code"</span>,<span class="string">"token"</span>]</span><br><span class="line">        extra_kwargs = &#123;</span><br><span class="line">            <span class="string">"id"</span>:&#123;<span class="string">"read_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"username"</span>:&#123;<span class="string">"read_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"mobile"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span>, <span class="string">"write_only"</span>:<span class="literal">True</span>, &#125;,</span><br><span class="line">            <span class="string">"password"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span>, <span class="string">"write_only"</span>:<span class="literal">True</span>, <span class="string">"max_length"</span>: <span class="number">16</span>, <span class="string">"min_length"</span>: <span class="number">6</span>&#125;,</span><br><span class="line">            <span class="string">"nickname"</span>:&#123;<span class="string">"required"</span>:<span class="literal">True</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate</span><span class="params">(self, attrs)</span>:</span></span><br><span class="line">        <span class="comment"># 1. 验证手机号码是否格式正确</span></span><br><span class="line">        mobile = attrs.get(<span class="string">"mobile"</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> re.match(<span class="string">"^1[3-9]\d&#123;9&#125;$"</span>, mobile):</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"手机号码格式错误！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 2. 验证手机号是否注册了</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            User.objects.get(mobile=mobile)</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"手机号码被占用！"</span>)</span><br><span class="line">        <span class="keyword">except</span> User.DoesNotExist:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 3. 昵称是否被注册了</span></span><br><span class="line">        nickname = attrs.get(<span class="string">"nickname"</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            User.objects.get(nickname=nickname)</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"用户昵称被占用！"</span>)</span><br><span class="line">        <span class="keyword">except</span> User.DoesNotExist:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># todo 4. 验证手机短信是否正确</span></span><br><span class="line">        redis_conn = get_redis_connection(<span class="string">"sms_code"</span>)</span><br><span class="line">        redis_sms_code = redis_conn.get(<span class="string">"sms_%s"</span> % mobile).decode()</span><br><span class="line">        client_sms_code = attrs.get(<span class="string">"sms_code"</span>)</span><br><span class="line">        <span class="keyword">if</span> redis_sms_code != client_sms_code:</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"短信验证码填写有误！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> attrs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span><span class="params">(self, validated_data)</span>:</span></span><br><span class="line">        <span class="string">"""保存用户注册信息"""</span></span><br><span class="line">        mobile = validated_data.get(<span class="string">"mobile"</span>)</span><br><span class="line">        nickname = validated_data.get(<span class="string">"nickname"</span>)</span><br><span class="line">        password = validated_data.get(<span class="string">"password"</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            user = User.objects.create_user(</span><br><span class="line">                username=mobile,</span><br><span class="line">                mobile=mobile,</span><br><span class="line">                nickname=nickname,</span><br><span class="line">                password=password</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 清除redis中的短信记录</span></span><br><span class="line">            redis_conn = get_redis_connection(<span class="string">"sms_code"</span>)</span><br><span class="line">            redis_conn.delete(<span class="string">"sms_%s"</span> % mobile)</span><br><span class="line">            redis_conn.delete(<span class="string">"sms_time_%s"</span> % mobile)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"用户信息注册失败！"</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 返回jwt登录token</span></span><br><span class="line">        <span class="keyword">from</span> rest_framework_jwt.settings <span class="keyword">import</span> api_settings</span><br><span class="line"></span><br><span class="line">        jwt_payload_handler = api_settings.JWT_PAYLOAD_HANDLER</span><br><span class="line">        jwt_encode_handler = api_settings.JWT_ENCODE_HANDLER</span><br><span class="line"></span><br><span class="line">        payload = jwt_payload_handler(user)</span><br><span class="line">        user.token = jwt_encode_handler(payload)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> user</span><br></pre></td></tr></table></figure>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Roger xs
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="http://yoursite.com/2020/03/25/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E%E6%B3%A8%E5%86%8C%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD/" title="[荏苒商城注册登录功能]">http://yoursite.com/2020/03/25/荏苒商城注册登录功能/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E/" rel="tag"># 荏苒商城</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/23/%E8%8D%8F%E8%8B%92%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/" rel="prev" title="[荏苒商城项目配置]">
      <i class="fa fa-chevron-left"></i> [荏苒商城项目配置]
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/01/%E5%89%8D%E7%AB%AFVue%E6%A1%86%E6%9E%B6/" rel="next" title="[前端Vue框架]">
      [前端Vue框架] <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#2-登录注册"><span class="nav-number">1.</span> <span class="nav-text">2-登录注册</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用户的登陆认证"><span class="nav-number">2.</span> <span class="nav-text">用户的登陆认证</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#前端显示登陆页面"><span class="nav-number">2.1.</span> <span class="nav-text">前端显示登陆页面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#登录页组件"><span class="nav-number">2.1.1.</span> <span class="nav-text">登录页组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#绑定登陆页面路由地址"><span class="nav-number">2.1.2.</span> <span class="nav-text">绑定登陆页面路由地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#调整首页头部子组件中登陆按钮的链接信息"><span class="nav-number">2.1.3.</span> <span class="nav-text">调整首页头部子组件中登陆按钮的链接信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#后端实现登陆认证"><span class="nav-number">2.2.</span> <span class="nav-text">后端实现登陆认证</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Django用户模型类"><span class="nav-number">2.2.1.</span> <span class="nav-text">Django用户模型类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常用方法："><span class="nav-number">2.2.2.</span> <span class="nav-text">常用方法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#管理器方法："><span class="nav-number">2.2.3.</span> <span class="nav-text">管理器方法：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建用户模块的子应用"><span class="nav-number">2.2.4.</span> <span class="nav-text">创建用户模块的子应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建自定义的用户模型类"><span class="nav-number">2.2.5.</span> <span class="nav-text">创建自定义的用户模型类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Django-REST-framework-JWT"><span class="nav-number">2.2.6.</span> <span class="nav-text">Django REST framework JWT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JWT的构成"><span class="nav-number">2.2.7.</span> <span class="nav-text">JWT的构成</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#header"><span class="nav-number">2.2.8.</span> <span class="nav-text">header</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#payload"><span class="nav-number">2.2.9.</span> <span class="nav-text">payload</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#signature"><span class="nav-number">2.2.10.</span> <span class="nav-text">signature</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装配置JWT"><span class="nav-number">2.2.11.</span> <span class="nav-text">安装配置JWT</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手动生成jwt"><span class="nav-number">2.2.12.</span> <span class="nav-text">手动生成jwt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#后端实现登陆认证接口"><span class="nav-number">2.2.13.</span> <span class="nav-text">后端实现登陆认证接口</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前端实现登陆功能"><span class="nav-number">2.3.</span> <span class="nav-text">前端实现登陆功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-7-前端保存jwt"><span class="nav-number">2.3.1.</span> <span class="nav-text">2.3.7 前端保存jwt</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-9-多条件登录"><span class="nav-number">2.3.2.</span> <span class="nav-text">2.3.9 多条件登录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在登录认证中接入腾讯防水墙验证码"><span class="nav-number">2.4.</span> <span class="nav-text">在登录认证中接入腾讯防水墙验证码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#前端获取显示并校验验证码"><span class="nav-number">2.4.1.</span> <span class="nav-text">前端获取显示并校验验证码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#用户的注册认证"><span class="nav-number">3.</span> <span class="nav-text">用户的注册认证</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#注册功能的实现"><span class="nav-number">3.1.</span> <span class="nav-text">注册功能的实现</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实现基本的账号信息注册"><span class="nav-number">3.1.1.</span> <span class="nav-text">实现基本的账号信息注册</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#客户端提交注册信息"><span class="nav-number">3.1.2.</span> <span class="nav-text">客户端提交注册信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在注册功能中集成短信验证码功能"><span class="nav-number">3.2.</span> <span class="nav-text">在注册功能中集成短信验证码功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用云通讯发送短信"><span class="nav-number">3.2.1.</span> <span class="nav-text">使用云通讯发送短信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#后端生成短信验证码"><span class="nav-number">3.2.2.</span> <span class="nav-text">后端生成短信验证码</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Roger xs"
      src="https://gitee.com/wjxyzs/img/raw/master/img/20160715144434_fZCsF.jpeg">
  <p class="site-author-name" itemprop="name">Roger xs</p>
  <div class="site-description" itemprop="description">琴棋书画技术博主(•‾⌣‾•)</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/rogerXS80" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;rogerXS80" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/fastsword66@gmail.com" title="E-Mail → fastsword66@gmail.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/5896791111/home?wvr=5&sudaref=graph.qq.com" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;5896791111&#x2F;home?wvr&#x3D;5&amp;sudaref&#x3D;graph.qq.com" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>

<!-- 添加近期文章 -->
      




      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Roger</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div><!-- 文件位置：~/sourse/_data/footer.swig -->

<div class="weixin-box">
  <div class="weixin-menu">
    <div class="weixin-hover">
      <div class="weixin-description">微信扫一扫，订阅本博客</div>
    </div>
  </div>
</div>


        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="100" alpha="0.4" zIndex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

    </div>

<!-- 鼠标点击特效 -->
<script type="text/javascript" src="/js/fireworks.js"></script>

<!-- 点击爱心 
<script type="text/javascript" src="/js/clicklove.js"></script>
-->

</body>
</html>
